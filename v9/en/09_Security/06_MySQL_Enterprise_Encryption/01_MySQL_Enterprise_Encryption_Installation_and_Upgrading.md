### 8.6.1 MySQL Enterprise Encryption Installation and Upgrading

The functions are provided by a MySQL component `component_enterprise_encryption`, and installing the component installs all of the functions.

MySQL Enterprise Encryption functions are provided by the MySQL `component_enterprise_encryption` component. For upgrade information, see Upgrading MySQL Enterprise Encryption.

If you are upgrading from a release prior to MySQL 8.0.30: Before installing the component, unload any legacy functions using the `DROP FUNCTION` statement:

```
DROP FUNCTION asymmetric_decrypt;
DROP FUNCTION asymmetric_derive;
DROP FUNCTION asymmetric_encrypt;
DROP FUNCTION asymmetric_sign;
DROP FUNCTION asymmetric_verify;
DROP FUNCTION create_asymmetric_priv_key;
DROP FUNCTION create_asymmetric_pub_key;
DROP FUNCTION create_dh_parameters;
DROP FUNCTION create_digest;
```

The function names must be specified in lowercase. The statements require the `DROP` privilege for the `mysql` database.

To install the component, issue this `INSTALL COMPONENT` statement:

```
INSTALL COMPONENT "file://component_enterprise_encryption";
```

`INSTALL COMPONENT` requires the `INSERT` privilege for the `mysql.component` system table because it adds a row to that table to register the component. To verify that the component has been installed, issue the statement shown here:

```
SELECT * FROM mysql.component;
```

Components listed in `mysql.component` are loaded by the loader service during the startup sequence.

If you need to uninstall the component, issue an `UNINSTALL COMPONENT` statement:

```
UNINSTALL COMPONENT "file://component_enterprise_encryption";
```

Uninstalling the component uninstalls all of the functions. For more details, see Section 7.5.1, “Installing and Uninstalling Components”.

Note

Installing the component installs all of its functions, so you do not need to create them using `CREATE FUNCTION` statements as in older releases of MySQL.

When you have installed the component, if you want the component functions to support decryption and verification for content produced by legacy functions, set the `enterprise_encryption.rsa_support_legacy_padding` system variable to `ON`. Also, if you want to change the maximum length allowed for the RSA keys generated by the component functions, use the `enterprise_encryption.maximum_rsa_key_size` system variable to set an appropriate maximum. For configuration information, see Section 8.6.2, “Configuring MySQL Enterprise Encryption”.
