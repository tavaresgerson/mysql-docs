## 25.6 Management of NDB Cluster

25.6.1 Commands in the NDB Cluster Management Client

25.6.2 NDB Cluster Log Messages

25.6.3 Event Reports Generated in NDB Cluster

25.6.4 Summary of NDB Cluster Start Phases

25.6.5 Performing a Rolling Restart of an NDB Cluster

25.6.6 NDB Cluster Single User Mode

25.6.7 Adding NDB Cluster Data Nodes Online

25.6.8 Online Backup of NDB Cluster

25.6.9 Importing Data Into MySQL Cluster

25.6.10 MySQL Server Usage for NDB Cluster

25.6.11 NDB Cluster Disk Data Tables

25.6.12 Online Operations with ALTER TABLE in NDB Cluster

25.6.13 Privilege Synchronization and NDB\_STORED\_USER

25.6.14 NDB API Statistics Counters and Variables

25.6.15 ndbinfo: The NDB Cluster Information Database

25.6.16 INFORMATION\_SCHEMA Tables for NDB Cluster

25.6.17 NDB Cluster and the Performance Schema

25.6.18 Quick Reference: NDB Cluster SQL Statements

25.6.19 NDB Cluster Security

Managing an NDB Cluster involves a number of tasks, the first of which is to configure and start NDB Cluster. This is covered in Section 25.4, “Configuration of NDB Cluster”, and Section 25.5, “NDB Cluster Programs”.

The next few sections cover the management of a running NDB Cluster.

For general information about security issues relating to management and deployment of an NDB Cluster, see Section 25.6.19, “NDB Cluster Security”. For information about encrypted file systems and `NDB`, see Section 25.6.19.4, “File System Encryption for NDB Cluster”. Section 25.6.19.5, “TLS Link Encryption for NDB Cluster”, provides information about support for encrypted connections between nodes. NDB Cluster also supports encrypted backups which can be read by many `NDB` command-line programs including **ndb\_restore**, **ndbxfrm**, **ndb\_print\_backup\_file**, and **ndb\_mgm**. See Section 25.6.8.2, “Using The NDB Cluster Management Client to Create a Backup”, for more information.

There are essentially two methods of actively managing a running NDB Cluster. The first of these is through the use of commands entered into the management client whereby cluster status can be checked, log levels changed, backups started and stopped, and nodes stopped and started. The second method involves studying the contents of the cluster log `ndb_node_id_cluster.log`; this is usually found in the management server's `DataDir` directory, but this location can be overridden using the `LogDestination` option. (Recall that *`node_id`* represents the unique identifier of the node whose activity is being logged.) The cluster log contains event reports generated by **ndbd**. It is also possible to send cluster log entries to a Unix system log.

Some aspects of the cluster's operation can be also be monitored from an SQL node using the `SHOW ENGINE NDB STATUS` statement.

More detailed information about NDB Cluster operations is available in real time through an SQL interface using the `ndbinfo` database. For more information, see Section 25.6.15, “ndbinfo: The NDB Cluster Information Database”.

NDB statistics counters provide improved monitoring using the **mysql** client. These counters, implemented in the NDB kernel, relate to operations performed by or affecting `Ndb` objects, such as starting, closing, and aborting transactions; primary key and unique key operations; table, range, and pruned scans; blocked threads waiting for various operations to complete; and data and events sent and received by NDB Cluster. The counters are incremented by the NDB kernel whenever NDB API calls are made or data is sent to or received by the data nodes.

**mysqld** exposes the NDB API statistics counters as system status variables, which can be identified from the prefix common to all of their names (`Ndb_api_`). The values of these variables can be read in the **mysql** client from the output of a `SHOW STATUS` statement, or by querying either the Performance Schema `session_status` or `global_status` table. By comparing the values of the status variables before and after the execution of an SQL statement that acts on `NDB` tables, you can observe the actions taken on the NDB API level that correspond to this statement, which can be beneficial for monitoring and performance tuning of NDB Cluster.

MySQL Cluster Manager provides an advanced command-line interface that simplifies many otherwise complex NDB Cluster management tasks, such as starting, stopping, or restarting an NDB Cluster with a large number of nodes. The MySQL Cluster Manager client also supports commands for getting and setting the values of most node configuration parameters as well as **mysqld** server options and variables relating to NDB Cluster. See MySQL Cluster Manager 9.5.0 User Manual, for more information.
