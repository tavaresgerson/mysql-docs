#### 19.5.1.20 Replicação e LOAD DATA

O `LOAD DATA` é considerado inseguro para o registro baseado em instruções (veja a Seção 19.2.1.3, “Determinação de instruções seguras e inseguras no registro binário”). Quando o `binlog_format=MIXED` é definido, a instrução é registrada no formato baseado em linhas. Quando o `binlog_format=STATEMENT` é definido, note que o `LOAD DATA` não gera uma mensagem de aviso, ao contrário de outras instruções inseguras.

Se você usar `LOAD DATA` com `binlog_format=STATEMENT`, cada replica na qual as alterações devem ser aplicadas cria um arquivo temporário contendo os dados. A replica então usa uma instrução `LOAD DATA` para aplicar as alterações. Esse arquivo temporário não é criptografado, mesmo que a criptografia do log binário esteja ativa na fonte. Se a criptografia for necessária, use o formato de registro binário baseado em linhas ou misturado, para o qual as réplicas não criam o arquivo temporário.

Se uma conta `PRIVILEGE_CHECKS_USER` foi usada para ajudar a proteger o canal de replicação (veja a Seção 19.3.3, “Verificações de privilégios de replicação”), é altamente recomendável que você registre as operações `LOAD DATA` usando o registro binário baseado em linhas (`binlog_format=ROW`). Se o `REQUIRE_ROW_FORMAT` for definido para o canal, o registro binário baseado em linhas é necessário. Com esse formato de registro, o privilégio `FILE` não é necessário para executar o evento, então não dê esse privilégio à conta `PRIVILEGE_CHECKS_USER`. Se você precisar recuperar de um erro de replicação envolvendo uma operação `LOAD DATA INFILE` registrada no formato de instrução, e o evento replicado seja confiável, você poderia conceder o privilégio `FILE` à conta `PRIVILEGE_CHECKS_USER` temporariamente, removendo-o após o evento replicado ter sido aplicado.

Quando o **mysqlbinlog** lê eventos de log para declarações de `LOAD DATA` registradas no formato baseado em declarações, um arquivo local gerado é criado em um diretório temporário. Esses arquivos temporários não são removidos automaticamente pelo **mysqlbinlog** ou por qualquer outro programa do MySQL. Se você usar declarações de `LOAD DATA` com registro binário baseado em declarações, você deve excluir os arquivos temporários você mesmo depois de não precisar mais do log da declaração. Para mais informações, consulte a Seção 6.6.9, “mysqlbinlog — Ferramenta para Processamento de Arquivos de Log Binário”.