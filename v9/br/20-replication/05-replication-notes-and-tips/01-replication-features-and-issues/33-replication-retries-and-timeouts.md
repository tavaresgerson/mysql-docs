#### 19.5.1.33 Tentativas de replicação e tempos de espera

O valor global da variável de sistema `replica_transaction_retries` define o número máximo de vezes que os threads do aplicável em uma replica monolinha ou multilminha podem tentar automaticamente refazer transações falhas antes de parar. As transações são automaticamente refeitas quando o thread SQL não consegue executá-las devido a um deadlock do `InnoDB`, ou quando o tempo de execução da transação excede o valor `innodb_lock_wait_timeout` do `InnoDB`. Se uma transação tiver um erro não temporário que a impeça de ser bem-sucedida, ela não será refeita.

O valor padrão para `replica_transaction_retries` é 10, o que significa que uma transação falhando com um erro aparentemente temporário é refeita 10 vezes antes que o thread do aplicável pare. Definir a variável para 0 desativa a refação automática de transações. Em uma replica multilminha, o número especificado de tentativas de transação pode ocorrer em todos os threads do aplicável de todos os canais. A tabela do Schema de Desempenho `replication_applier_status` mostra o número total de tentativas de transação que ocorreram em cada canal de replicação, na coluna `COUNT_TRANSACTIONS_RETRIES`.

O processo de retente de transações pode causar atraso em uma replica ou em um membro do grupo de replicação em grupo, que pode ser configurado como uma replica de fluxo único ou multithread. A tabela do Schema de Desempenho `replication_applier_status_by_worker` mostra informações detalhadas sobre as tentativas de retente de transações pelos threads do aplicador em uma replica de fluxo único ou multithread. Esses dados incluem timestamps que mostram quanto tempo levou o thread do aplicador para aplicar a última transação do início ao fim (e quando a transação atualmente em andamento foi iniciada) e quanto tempo isso levou após o commit na fonte original e na fonte imediata. Os dados também mostram o número de tentativas para a última transação e a transação atualmente em andamento, e permitem que você identifique os erros transitórios que causaram a retente das transações. Você pode usar essas informações para ver se as tentativas de retente de transações são a causa do atraso na replicação e investigar a causa raiz das falhas que levaram às tentativas de retente.