#### 20.7.7.3 Auto-Reunião

A variável de sistema `group_replication_autorejoin_tries` faz com que um membro que tenha sido expulso ou atingido o tempo máximo de maioria inacessível tente se reunir ao grupo automaticamente. O valor padrão (3) significa que o membro faz automaticamente 3 tentativas de se reunir ao grupo, com 5 minutos entre cada tentativa.

Quando a auto-reunião não está ativada, um membro aceita sua expulsão assim que retoma a comunicação e prossegue para a ação especificada pela variável de sistema `group_replication_exit_state_action`. Após isso, é necessária uma intervenção manual para trazer o membro de volta ao grupo. Usar a funcionalidade de auto-reunião é apropriado se você pode tolerar a possibilidade de leituras obsoletas e deseja minimizar a necessidade de intervenção manual, especialmente quando problemas transitórios de rede resultam com frequência na expulsão de membros.

Com a auto-reunião, quando a expulsão do membro ou o tempo máximo de maioria inacessível é atingido, ele tenta se reunir (usando os valores atuais das opções do plugin), e continua a fazer tentativas adicionais de auto-reunião até o número especificado de tentativas. Após uma tentativa de auto-reunião malsucedida, o membro espera 5 minutos antes da próxima tentativa. As tentativas de auto-reunião e o tempo entre elas são chamadas de procedimento de auto-reunião. Se o número especificado de tentativas for esgotado sem que o membro se reúna ou seja interrompido, o membro prossegue para a ação especificada pela variável de sistema `group_replication_exit_state_action`.

Durante e entre as tentativas de auto-reunificação, um membro permanece no modo de leitura apenas super e exibe um estado de `ERRO` em sua visualização do grupo de replicação. Durante esse tempo, o membro não aceita escritas. No entanto, leituras ainda podem ser feitas no membro, com uma probabilidade crescente de leituras desatualizadas ao longo do tempo. Se você deseja intervir para desconectar o membro durante o procedimento de auto-reunificação, o membro pode ser parado manualmente a qualquer momento usando uma declaração `STOP GROUP_REPLICATION` ou desligando o servidor. Se você não pode tolerar a possibilidade de leituras desatualizadas por qualquer período de tempo, defina a variável de sistema `group_replication_autorejoin_tries` para 0.

Você pode monitorar o procedimento de auto-reunificação usando o Schema de Desempenho. Enquanto um procedimento de auto-reunificação está ocorrendo, a tabela do Schema de Desempenho `events_stages_current` mostra o evento “Passando pelo procedimento de auto-reunificação”, com o número de tentativas de reatribuição realizadas até agora durante essa instância do procedimento (na coluna `WORK_COMPLETED`). A tabela `events_stages_summary_global_by_event_name` mostra o número de vezes que a instância do servidor iniciou o procedimento de auto-reunificação (na coluna `COUNT_STAR`). A tabela `events_stages_history_long` mostra o tempo em que cada um desses procedimentos de auto-reunificação foi concluído (na coluna `TIMER_END`). Enquanto um membro está se reunindo a um grupo de replicação, seu status pode ser exibido como `OFFLINE` ou `ERROR` antes que o grupo complete as verificações de compatibilidade e o aceite como membro. Quando o membro está recuperando as transações do grupo, seu status é `RECOVERING`.