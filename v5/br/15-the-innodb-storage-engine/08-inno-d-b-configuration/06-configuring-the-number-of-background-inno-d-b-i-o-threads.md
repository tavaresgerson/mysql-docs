### 14.8.6 Configurando o Número de Threads de I/O de Background do InnoDB

O `InnoDB` utiliza background threads para atender a vários tipos de solicitações de I/O. Você pode configurar o número de background threads que atendem ao I/O de leitura e escrita em páginas de dados usando os parâmetros de configuração `innodb_read_io_threads` e `innodb_write_io_threads`. Esses parâmetros indicam o número de background threads usados para solicitações de leitura e escrita, respectivamente. Eles são eficazes em todas as plataformas suportadas. Você pode definir valores para esses parâmetros no arquivo de opções do MySQL (`my.cnf` ou `my.ini`); você não pode alterar os valores dinamicamente. O valor padrão para esses parâmetros é `4` e os valores permitidos variam de `1-64`.

O objetivo dessas opções de configuração é tornar o `InnoDB` mais escalável em sistemas de alto desempenho (*high end*). Cada background thread pode lidar com até 256 solicitações de I/O pendentes. Uma fonte importante de I/O de background são as solicitações de *read-ahead*. O `InnoDB` tenta equilibrar a carga das solicitações de entrada de forma que a maioria dos background threads compartilhe o trabalho igualmente. O `InnoDB` também tenta alocar solicitações de leitura do mesmo *extent* para o mesmo *thread*, para aumentar as chances de coalescer as solicitações. Se você tiver um subsistema de I/O de alto desempenho e observar mais de 64 × `innodb_read_io_threads` solicitações de leitura pendentes na saída de `SHOW ENGINE INNODB STATUS`, você pode melhorar o desempenho aumentando o valor de `innodb_read_io_threads`.

Em sistemas Linux, o `InnoDB` usa o subsistema de I/O assíncrono por padrão para executar solicitações de *read-ahead* e escrita para páginas de arquivos de dados, o que altera a forma como os background threads do `InnoDB` atendem a esses tipos de solicitações de I/O. Para mais informações, consulte a Seção 14.8.7, “Using Asynchronous I/O on Linux”.

Para mais informações sobre o desempenho de I/O do `InnoDB`, consulte a Seção 8.5.8, “Optimizing InnoDB Disk I/O”.