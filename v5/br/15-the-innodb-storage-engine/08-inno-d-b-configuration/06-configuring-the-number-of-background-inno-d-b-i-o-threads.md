### 14.8.6 Configurando o número de threads de E/S do InnoDB em segundo plano

O `InnoDB` utiliza threads de fundo para atender a vários tipos de solicitações de E/S. Você pode configurar o número de threads de fundo que atendem às solicitações de E/S de leitura e escrita em páginas de dados usando os parâmetros de configuração `innodb_read_io_threads` e `innodb_write_io_threads`. Esses parâmetros indicam o número de threads de fundo usados para solicitações de leitura e escrita, respectivamente. Eles são eficazes em todas as plataformas suportadas. Você pode definir valores para esses parâmetros no arquivo de opções do MySQL (`my.cnf` ou `my.ini`); você não pode alterar valores dinamicamente. O valor padrão desses parâmetros é `4` e os valores permitidos variam de `1-64`.

O objetivo dessas opções de configuração é tornar o `InnoDB` mais escalável em sistemas de alto desempenho. Cada thread de fundo pode lidar com até 256 solicitações de E/S pendentes. Uma das principais fontes de E/S de fundo são as solicitações de leitura antecipada. O `InnoDB` tenta equilibrar a carga de solicitações recebidas de forma que a maioria das threads de fundo compartilhe o trabalho igualmente. O `InnoDB` também tenta alocar solicitações de leitura da mesma extensão para o mesmo thread, para aumentar as chances de coalescer as solicitações. Se você tem um subsistema de E/S de alto desempenho e vê mais de 64 × `innodb_read_io_threads` solicitações de leitura pendentes na saída do `SHOW ENGINE INNODB STATUS`, você pode melhorar o desempenho aumentando o valor de `innodb_read_io_threads`.

Nos sistemas Linux, o `InnoDB` usa o subsistema de E/S assíncrona por padrão para realizar solicitações de leitura à frente e escrita para páginas de arquivos de dados, o que altera a maneira como os threads de segundo plano do `InnoDB` atendem a esses tipos de solicitações de E/S. Para mais informações, consulte a Seção 14.8.7, “Usando E/S Assíncrona no Linux”.

Para obter mais informações sobre o desempenho de E/S do InnoDB, consulte a Seção 8.5.8, “Otimização do E/S de Disco do InnoDB”.
