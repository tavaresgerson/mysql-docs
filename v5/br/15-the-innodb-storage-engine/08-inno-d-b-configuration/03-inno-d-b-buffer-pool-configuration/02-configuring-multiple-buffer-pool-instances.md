#### 14.8.3.2 Configurando múltiplas instâncias do pool de buffers

Para sistemas com pools de tampão na faixa de vários gigabytes, dividir o pool de tampão em instâncias separadas pode melhorar a concorrência, reduzindo a concorrência à medida que diferentes threads leem e escrevem em páginas armazenadas em cache. Esse recurso é tipicamente destinado a sistemas com um tamanho de pool de tampão na faixa de vários gigabytes. Múltiplas instâncias de pool de tampão são configuradas usando a opção de configuração `innodb_buffer_pool_instances`, e você também pode ajustar o valor `innodb_buffer_pool_size`.

Quando o pool de buffers do `InnoDB` é grande, muitos pedidos de dados podem ser atendidos pela recuperação da memória. Você pode encontrar gargalos quando vários threads tentam acessar o pool de buffers ao mesmo tempo. Você pode habilitar múltiplos pools de buffers para minimizar essa concorrência. Cada página que é armazenada ou lida no pool de buffers é atribuída aleatoriamente a um dos pools de buffers, usando uma função de hash. Cada pool de buffers gerencia suas próprias listas de livre, listas de esvaziamento, LRUs e todas as outras estruturas de dados conectadas a um pool de buffers, e é protegido por seu próprio mutex do pool de buffers.

Para habilitar múltiplas instâncias do pool de tampão, defina a opção de configuração `innodb_buffer_pool_instances` para um valor maior que 1 (o padrão) até 64 (o máximo). Esta opção só entra em vigor quando você define `innodb_buffer_pool_size` para um tamanho de 1 GB ou mais. O tamanho total especificado é dividido entre todas as instâncias do pool de tampão. Para obter a melhor eficiência, especifique uma combinação de `innodb_buffer_pool_instances` e `innodb_buffer_pool_size` de modo que cada instância do pool de tampão tenha pelo menos 1 GB.

Para obter informações sobre a modificação do tamanho do pool de buffers do InnoDB, consulte a Seção 14.8.3.1, “Configurando o Tamanho do Pool de Buffers do InnoDB”.
