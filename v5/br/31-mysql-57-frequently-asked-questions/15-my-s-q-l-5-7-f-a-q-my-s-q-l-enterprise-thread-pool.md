## A.15 Perguntas frequentes sobre o MySQL 5.7: Pool de threads do MySQL Enterprise

A.15.1. [O que é o Pool de Fios e que problema ele resolve?](faqs-thread-pool.html#faq-thread-pool-what-solve)

A.15.2. [Como o Pool de Fios limita e gerencia sessões e transações concorrentes para um desempenho e throughput ótimos?](faqs-thread-pool.html#faq-thread-pool-como-gerenciar-operação)

A.15.3. [Como o Pool de Fios é diferente do Pool de Conexão do lado do cliente?](faqs-thread-pool.html#faq-thread-pool-how-diff-connector-pool)

A.15.4. [Quando devo usar o Pool de Fios?](faqs-thread-pool.html#faq-thread-pool-quando-usar)

A.15.5. [Existem configurações recomendadas para o Pool de Threads?](faqs-thread-pool.html#faq-thread-pool-qual-config-recomendar)

<table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"/><col/></colgroup><tbody><tr class="question"><td align="left" valign="top"><p><b>A.15.1.</b></p></td><td align="left" valign="top"><p>O que é o Pool de Fios e que problema ele resolve?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O MySQL Thread Pool é um plugin do servidor MySQL que estende as capacidades padrão de gerenciamento de conexões do servidor MySQL para limitar o número de instruções/consultas e transações executadas simultaneamente, garantindo que cada uma tenha recursos de CPU e memória suficientes para cumprir sua tarefa. Para o MySQL 5.7, o plugin Thread Pool está incluído na Edição Empresarial do MySQL, um produto comercial.</p><p>O modelo padrão de manipulação de threads no MySQL Server executa instruções usando um thread por conexão de cliente. À medida que mais clientes se conectam ao servidor e executam instruções, o desempenho geral degrada. O plugin Pool de Threads oferece um modelo alternativo de manipulação de threads projetado para reduzir o overhead e melhorar o desempenho. O plugin Pool de Threads aumenta o desempenho do servidor ao gerenciar eficientemente os threads de execução de instruções para um grande número de conexões de clientes, especialmente em sistemas modernos com múltiplos núcleos/CPUs.</p><p>Para mais informações, consulteSeção 5.5.3, “Piscina de Fios da Empresa MySQL”.</p></td></tr><tr class="question"><td align="left" valign="top"><p><b>A.15.2.</b></p></td><td align="left" valign="top"><p>Como o Pool de Fios limita e gerencia sessões e transações concorrentes para um desempenho e throughput ótimos?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O Pool de Fios utiliza um<span class="quote">“<span class="quote">dividir e conquistar</span>”</span>Abordagem para limitar e equilibrar a concorrência. Ao contrário do gerenciamento padrão de conexões do MySQL Server, o Pool de Threads separa conexões e threads, portanto, não há uma relação fixa entre conexões e os threads que executam instruções recebidas dessas conexões. O Pool de Threads, então, gerencia conexões de clientes dentro de grupos de threads configuráveis, onde eles são priorizados e enfileirados com base na natureza do trabalho que foram enviados para serem realizados.</p><p>Para mais informações, consulteSeção 5.5.3.3, “Operação do Conjunto de Fios”.</p></td></tr><tr class="question"><td align="left" valign="top"><p><b>A.15.3.</b></p></td><td align="left" valign="top"><p>Como o Pool de Fios é diferente do Pool de Conexão do lado do cliente?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O Pool de Conexão MySQL opera no lado do cliente para garantir que um cliente MySQL não se conecte e desconecte constantemente do servidor MySQL. Ele é projetado para armazenar conexões ociosas no cliente MySQL para uso por outros usuários conforme necessário. Isso minimiza o overhead e os custos de estabelecer e interromper conexões à medida que as consultas são enviadas ao servidor MySQL. O Pool de Conexão MySQL não tem visibilidade sobre as capacidades de manipulação de consultas ou a carga do servidor MySQL de back-end. Em contraste, o Pool de Threads opera no lado do servidor MySQL e é projetado para gerenciar a execução de conexões e consultas concorrentes recebidas conforme elas são recebidas das conexões do cliente que acessam o banco de dados MySQL de back-end. Devido à separação de funções, o Pool de Conexão MySQL e o Pool de Threads são ortogonais e podem ser usados independentemente um do outro.</p><p>O Pool de Conexão MySQL via Conectores MySQL é abordado emCapítulo 27,<i>Conectores e APIs</i>.</p></td></tr><tr class="question"><td align="left" valign="top"><p><b>A.15.4.</b></p></td><td align="left" valign="top"><p>Quando devo usar o Pool de Fios?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Há algumas regras básicas a serem consideradas para casos de uso ideais do Pool de Fios:</p><p>O MySQL[[<code>Threads_running</code>]]A variável mantém o controle do número de declarações concorrentes atualmente em execução no MySQL Server. Se essa variável consistentemente exceder uma região onde o servidor não funcionará de forma otimizada (geralmente indo além de 40 para cargas de trabalho InnoDB), o Pool de Threads deve ser benéfico, especialmente em situações de sobrecarga paralela extrema.</p><p>Se você estiver usando o[[<code>innodb_thread_concurrency</code>]]Para limitar o número de instruções executadas simultaneamente, você deve perceber que o Pool de Threads resolve o mesmo problema, apenas melhor, ao atribuir conexões a grupos de threads, em seguida, agendando as execuções com base no conteúdo transacional, designações definidas pelo usuário, e assim por diante.</p><p>Por fim, se sua carga de trabalho consiste principalmente em consultas curtas, o Pool de Fios deve ser benéfico.</p><p>Para saber mais, consulteSeção 5.5.3.4, “Ajuste do Pool de Fios”.</p></td></tr><tr class="question"><td align="left" valign="top"><p><b>A.15.5.</b></p></td><td align="left" valign="top"><p>Existem configurações recomendadas para o Pool de Fios?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O Pool de Fios tem vários parâmetros de configuração baseados em casos de usuários que afetam seu desempenho. Para saber mais sobre esses parâmetros e dicas sobre ajustes, consulteSeção 5.5.3.4, “Ajuste do Pool de Fios”.</p></td></tr></tbody></table>
