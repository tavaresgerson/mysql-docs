## A.17 Perguntas frequentes sobre o MySQL 5.7: Criptografia de dados em repouso do InnoDB

A.17.1. [Os dados são descriptografados para os usuários autorizados a acessá-los?](faqs-tablespace-encryption.html#faq-tablespace-encryption-access)

A.17.2. [Qual é o custo adicional associado à criptografia de dados em repouso do InnoDB?](faqs-tablespace-encryption.html#faq-tablespace-encryption-overhead)

A.17.3. [Quais são os algoritmos de criptografia usados com a criptografia de dados em repouso do InnoDB?](faqs-tablespace-encryption.html#faq-tablespace-encryption-algorithm)

A.17.4. [É possível usar algoritmos de criptografia de terceiros em vez do fornecido pelo recurso de criptografia de dados em repouso do InnoDB?](faqs-tablespace-encryption.html#faq-tablespace-encryption-other-algorithms)

A.17.5. [É possível criptografar colunas indexadas?](faqs-tablespace-encryption.html#faq-tablespace-encryption-indexed-columns)

A.17.6. [Quais tipos de dados e comprimentos de dados o criptograma de dados em repouso do InnoDB suporta?](faqs-tablespace-encryption.html#faq-tablespace-encryption-data-types)

A.17.7. [Os dados permanecem criptografados na rede?](faqs-tablespace-encryption.html#faq-tablespace-encryption-network)

A.17.8. [A memória do banco de dados contém dados em texto claro ou criptografados?](faqs-tablespace-encryption.html#faq-tablespace-encryption-database-memory)

A.17.9. [Como eu sei quais dados devo criptografar?](faqs-tablespace-encryption.html#faq-tablespace-encryption-data-to-encrypt)

A.17.10. [Como a criptografia de dados em repouso do InnoDB difere das funções de criptografia que o MySQL já fornece?](faqs-tablespace-encryption.html#faq-tablespace-encryption-mysql-encryption)

A.17.11. [O recurso de tabelas espaços transporáveis funciona com a criptografia de dados em repouso do InnoDB?](faqs-tablespace-encryption.html#faq-tablespace-encryption-transportable-tablespaces)

A.17.12. [A compressão funciona com a criptografia de dados em repouso do InnoDB?](faqs-tablespace-encryption.html#faq-tablespace-encryption-compression)

A.17.13. [Posso usar mysqldump com tabelas criptografadas?](faqs-tablespace-encryption.html#faq-tablespace-encryption-mysqldump)

A.17.14. [Como alterar (rotação, re-chaveamento) a chave de criptografia mestre?](faqs-tablespace-encryption.html#faq-tablespace-encryption-key-rotation)

A.17.15. [Como migrar dados de um espaço de tabela InnoDB em texto claro para um espaço de tabela InnoDB criptografado?](faqs-tablespace-encryption.html#faq-tablespace-encryption-data-migration)

A.17.16. [O recurso de criptografia de dados em repouso do InnoDB pode armazenar a chave de criptografia mestre em um dispositivo externo usando a interface PKSC11?](faqs-tablespace-encryption.html#faq-tablespace-encryption-external-key-storage)

<table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"/><col/></colgroup><tbody><tr class="question"><td align="left" valign="top"><p><b>A.17.1.</b></p></td><td align="left" valign="top"><p>Os dados são descriptografados para os usuários que têm permissão para vê-los?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Sim. A criptografia de dados em repouso PH_HTML_CODE_<code>InnoDB</code>] é projetada para aplicar criptografia de forma transparente dentro do banco de dados sem impactar as aplicações existentes. Devolver dados em formato criptografado quebraria a maioria das aplicações existentes. A criptografia de dados em repouso PH_HTML_CODE_<code>InnoDB</code>] oferece o benefício da criptografia sem o overhead associado às soluções tradicionais de criptografia de banco de dados, que normalmente exigiriam mudanças caras e substanciais nas aplicações, gatilhos de banco de dados e visualizações.</p></td></tr><tr class="question"><td align="left" valign="top"><p><b>A.17.2.</b></p></td><td align="left" valign="top"><p>Qual é o custo associado à criptografia de dados em repouso PH_HTML_CODE_<code>InnoDB</code>]?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Não há sobrecarga adicional de armazenamento. De acordo com benchmarks internos, a sobrecarga de desempenho equivale a uma diferença percentual de um dígito.</p></td></tr><tr class="question"><td align="left" valign="top"><p><b>A.17.3.</b></p></td><td align="left" valign="top"><p>Quais são os algoritmos de criptografia usados com a criptografia de dados em repouso PH_HTML_CODE_<code>InnoDB</code>]?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A criptografia de dados em repouso PH_HTML_CODE_<code>InnoDB</code>] suporta o algoritmo de criptografia baseada em blocos Advanced Encryption Standard (AES256). Utiliza o modo de criptografia de blocos Electronic Codebook (ECB) para a criptografia da chave do espaço de tabela e o modo de criptografia de blocos Cipher Block Chaining (CBC) para a criptografia dos dados.</p></td></tr><tr class="question"><td align="left" valign="top"><p><b>A.17.4.</b></p></td><td align="left" valign="top"><p>É possível usar algoritmos de criptografia de terceiros em vez do fornecido pelo recurso de criptografia de dados em repouso PH_HTML_CODE_<code>InnoDB</code>]?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Não, não é possível usar outros algoritmos de criptografia. O algoritmo de criptografia fornecido é amplamente aceito.</p></td></tr><tr class="question"><td align="left" valign="top"><p><b>A.17.5.</b></p></td><td align="left" valign="top"><p>As colunas indexadas podem ser criptografadas?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A criptografia de dados em repouso PH_HTML_CODE_<code>mysqldump</code>] suporta todos os índices de forma transparente.</p></td></tr><tr class="question"><td align="left" valign="top"><p><b>A.17.6.</b></p></td><td align="left" valign="top"><p>Quais tipos de dados e comprimentos de dados o PH_HTML_CODE_<code>InnoDB</code>] de criptografia de dados em repouso suporta?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A criptografia de dados em repouso PH_HTML_CODE_<code>ALTER INSTANCE ROTATE INNODB MASTER KEY</code>] suporta todos os tipos de dados suportados. Não há limitação de comprimento de dados.</p></td></tr><tr class="question"><td align="left" valign="top"><p><b>A.17.7.</b></p></td><td align="left" valign="top"><p>Os dados permanecem criptografados na rede?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Os dados criptografados pelo recurso PH_HTML_CODE_<code>InnoDB</code>] de dados em repouso são descriptografados quando são lidos do arquivo do espaço de tabelas. Assim, se os dados estiverem na rede, eles estarão em formato de texto claro. No entanto, os dados na rede podem ser criptografados usando a criptografia de rede do MySQL, que criptografa os dados que viajam para e a partir de um banco de dados usando SSL/TLS.</p></td></tr><tr class="question"><td align="left" valign="top"><p><b>A.17.8.</b></p></td><td align="left" valign="top"><p>A memória do banco de dados contém dados em texto simples ou criptografados?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Com a criptografia de dados em repouso <code>InnoDB</code>, os dados em memória são descriptografados, o que proporciona total transparência.</p></td></tr><tr class="question"><td align="left" valign="top"><p><b>A.17.9.</b></p></td><td align="left" valign="top"><p>Como sei quais dados devo criptografar?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>O cumprimento do padrão PCI-DSS exige que os números de cartões de crédito (Número da Conta Primária, ou 'PAN') sejam armazenados em forma criptografada. As leis de notificação de violações (por exemplo, CA SB 1386, CA AB 1950 e leis semelhantes em mais de 43 estados dos EUA) exigem a criptografia de nomes, sobrenomes, números de carteira de motorista e outros dados PII. No início de 2008, a CA AB 1298 adicionou informações de seguro médico e de saúde aos dados PII. Além disso, padrões de privacidade e segurança específicos da indústria podem exigir a criptografia de certos ativos. Por exemplo, ativos como resultados de pesquisas farmacêuticas, resultados de exploração de campos petrolíferos, contratos financeiros ou dados pessoais de informantes das forças de segurança podem exigir criptografia. Na indústria de saúde, a privacidade dos dados dos pacientes, registros de saúde e imagens de raios-X é de extrema importância.</p></td></tr><tr class="question"><td align="left" valign="top"><p><b>A.17.10.</b></p></td><td align="left" valign="top"><p>Como a criptografia de dados em repouso <code>InnoDB</code><code>InnoDB</code>] difere das funções de criptografia que o MySQL já oferece?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Existem APIs de criptografia simétricas e assimétricas no MySQL que podem ser usadas para criptografar manualmente os dados dentro do banco de dados. No entanto, o aplicativo deve gerenciar as chaves de criptografia e realizar as operações de criptografia e descriptografia necessárias, chamando as funções da API. A criptografia de dados em repouso <code>InnoDB</code> não requer alterações no aplicativo, é transparente para os usuários finais e oferece gerenciamento automático e integrado de chaves.</p></td></tr><tr class="question"><td align="left" valign="top"><p><b>A.17.11.</b></p></td><td align="left" valign="top"><p>A funcionalidade de espaços de tabela transportables funciona com a criptografia de dados em repouso <code>InnoDB</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Sim. É suportado para tabelas-espaços de arquivos criptografados por tabela. Para mais informações, consulteExportar tabelas espaciais criptografadas.</p></td></tr><tr class="question"><td align="left" valign="top"><p><b>A.17.12.</b></p></td><td align="left" valign="top"><p>A compressão funciona com a criptografia de dados em repouso <code>InnoDB</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Os clientes que utilizam a criptografia de dados em repouso <code>InnoDB</code> recebem o benefício total da compressão, pois a compressão é aplicada antes dos blocos de dados serem criptografados.</p></td></tr><tr class="question"><td align="left" valign="top"><p><b>A.17.13.</b></p></td><td align="left" valign="top"><p>Posso usar <code>mysqldump</code> com tabelas criptografadas?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Sim. Como esses utilitários criam backups lógicos, os dados descarregados das tabelas criptografadas não são criptografados.</p></td></tr><tr class="question"><td align="left" valign="top"><p><b>A.17.14.</b></p></td><td align="left" valign="top"><p>Como posso alterar (rotação, re-chaveamento) a chave de criptografia mestre?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A criptografia de dados em repouso <code>InnoDB</code> utiliza um mecanismo de chave de dois níveis. Quando a criptografia de dados em repouso é usada, as chaves do espaço de tabelas individuais são armazenadas no cabeçalho do arquivo de dados do espaço de tabelas subjacente. As chaves do espaço de tabelas são criptografadas usando a chave de criptografia mestre. A chave de criptografia mestre é gerada quando a criptografia do espaço de tabelas é habilitada e é armazenada fora do banco de dados. A chave de criptografia mestre é rotada usando a<code>ALTER INSTANCE ROTATE INNODB MASTER KEY</code>A declaração gera uma nova chave de criptografia mestre, armazena a chave e a rotação para uso.</p></td></tr><tr class="question"><td align="left" valign="top"><p><b>A.17.15.</b></p></td><td align="left" valign="top"><p>Como migrar dados de um espaço de tabelas em texto claro <code>InnoDB</code> para um espaço de tabelas criptografado <code>InnoDB</code><code>InnoDB</code>]?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Não é necessário transferir dados de um tablespace para outro. Para criptografar dados em um tablespace de arquivo por tabela <code>InnoDB</code><code>InnoDB</code>], execute<code>InnoDB</code><code>InnoDB</code>]</em>ENCRYPTION = 'Y'</code>Para criptografar um espaço de tabela geral ou o espaço de tabela <code>InnoDB</code><code>InnoDB</code>], execute<code>InnoDB</code><code>InnoDB</code>]</em>ENCRYPTION = 'Y'</code>O suporte à criptografia para os espaços de tabela gerais foi introduzido no MySQL 8.0.13. O suporte à criptografia para o espaço de tabela <code>InnoDB</code><code>InnoDB</code>] está disponível a partir do MySQL 8.0.16.</p></td></tr><tr class="question"><td align="left" valign="top"><p><b>A.17.16.</b></p></td><td align="left" valign="top"><p>A funcionalidade <code>InnoDB</code><code>mysqldump</code>] de armazenamento de dados em repouso pode armazenar a chave de criptografia mestre em um dispositivo externo usando a interface PKSC11?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Não neste momento. Atualmente, o protocolo KMIP 1.1 é suportado com o plugin <code>InnoDB</code><code>InnoDB</code>], que está disponível com a Edição Empresarial do MySQL.</p></td></tr></tbody></table>
