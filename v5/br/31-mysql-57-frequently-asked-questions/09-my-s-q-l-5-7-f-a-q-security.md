## A.9 MySQL 5.7 FAQ: Segurança

A.9.1. [Onde posso encontrar documentação que aborda questões de segurança para o MySQL?](faqs-security.html#faq-mysql-where-docs-security)

A.9.2. [Qual é o plugin de authentication padrão no MySQL 5.7?](faqs-security.html#faq-mysql-default-authentication-plugin)

A.9.3. [O MySQL possui suporte nativo a SSL?](faqs-security.html#faq-mysql-have-native-ssl)

A.9.4. [O suporte a SSL é integrado aos binários do MySQL, ou devo recompilar o binário para ativá-lo?](faqs-security.html#faq-mysql-is-ssl-available)

A.9.5. [O MySQL possui authentication integrada contra diretórios LDAP?](faqs-security.html#faq-mysql-have-builtin-ldap)

A.9.6. [O MySQL inclui suporte para Controle de Acesso Baseado em Roles (RBAC)?](faqs-security.html#faq-mysql-have-builtin-rbac)

A.9.7. [O MySQL oferece suporte a TLS 1.0 e 1.1?](faqs-security.html#faq-mysql-tls-versions)

<table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"/><col/></colgroup><tbody><tr class="question"><td align="left" valign="top"><p><b>A.9.1.</b></p></td><td align="left" valign="top"><p> Onde posso encontrar documentação que aborda questões de segurança para o MySQL? </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p> O melhor lugar para começar é o Capítulo 6, <i>Segurança</i>. </p><p> Outras partes da Documentação do MySQL que podem ser úteis em relação a preocupações de segurança específicas incluem: </p> <div class="itemizedlist"> <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p> Seção 6.1.1, “Diretrizes de Segurança”. </p></li><li class="listitem"><p> Seção 6.1.3, “Tornando o MySQL Seguro Contra Atacantes”. </p></li><li class="listitem"><p> Seção B.3.3.2, “Como Redefinir a Senha do Root”. </p></li><li class="listitem"><p> Seção 6.1.5, “Como Executar o MySQL como um Usuário Normal”. </p></li><li class="listitem"><p> Seção 6.1.4, “Opções e Variáveis do mysqld Relacionadas à Segurança”. </p></li><li class="listitem"><p> Seção 6.1.6, “Considerações de Segurança para LOAD DATA LOCAL”. </p></li><li class="listitem"><p> Seção 2.9, “Configuração e Testes Pós-instalação”. </p></li><li class="listitem"><p> Seção 6.3, “Usando Conexões Criptografadas”. </p></li><li class="listitem"><p> Precauções de Segurança para Funções Carregáveis. </p></li></ul> </div> <p> </p><p> Há também o Guia de Implementação Segura (Secure Deployment Guide), que fornece procedimentos para implementar uma distribuição binária genérica do MySQL Enterprise Edition Server com recursos para gerenciar a segurança de sua instalação do MySQL. </p></td></tr><tr class="question"><td align="left" valign="top"><p><b>A.9.2.</b></p></td><td align="left" valign="top"><p> Qual é o plugin de authentication padrão no MySQL 5.7? </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p> O plugin de authentication padrão no MySQL 5.7 é <code>mysql_native_password</code>. Para obter informações sobre este plugin, consulte a Seção 6.4.1.1, “Authentication Plugável Nativa”. Para obter informações gerais sobre authentication plugável e outros authentication plugins disponíveis, consulte a Seção 6.2.13, “Authentication Plugável” e a Seção 6.4.1, “Authentication Plugins”. </p></td></tr><tr class="question"><td align="left" valign="top"><p><b>A.9.3.</b></p></td><td align="left" valign="top"><p> O MySQL possui suporte nativo a SSL? </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p> Sim, os binários possuem suporte para conexões SSL entre o client e o server. Consulte a Seção 6.3, “Usando Conexões Criptografadas”. </p><p> Você também pode criar um túnel para uma conexão usando SSH, se (por exemplo) a aplicação client não suportar conexões SSL. Para um exemplo, consulte a Seção 6.3.5, “Conectando-se ao MySQL Remotamente a partir do Windows com SSH”. </p></td></tr><tr class="question"><td align="left" valign="top"><p><b>A.9.4.</b></p></td><td align="left" valign="top"><p> O suporte a SSL é integrado aos binários do MySQL, ou devo recompilar o binário para ativá-lo? </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p> Sim, os binários têm SSL habilitado para conexões client/server que são seguras, autenticadas ou ambas. Consulte a Seção 6.3, “Usando Conexões Criptografadas”. </p></td></tr><tr class="question"><td align="left" valign="top"><p><b>A.9.5.</b></p></td><td align="left" valign="top"><p> O MySQL possui authentication integrada contra diretórios LDAP? </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p> A edição Enterprise inclui um PAM Authentication Plugin que suporta authentication contra um diretório LDAP. </p></td></tr><tr class="question"><td align="left" valign="top"><p><b>A.9.6.</b></p></td><td align="left" valign="top"><p> O MySQL inclui suporte para Controle de Acesso Baseado em Roles (RBAC)? </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p> Não neste momento. </p></td></tr><tr class="question"><td align="left" valign="top"><p><b>A.9.7.</b></p></td><td align="left" valign="top"><p> O MySQL oferece suporte a TLS 1.0 e 1.1? </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p> O suporte para os protocolos de conexão TLSv1 e TLSv1.1 foi removido a partir do MySQL 8.0.28. Os protocolos foram descontinuados a partir do MySQL 8.0.26. Para as consequências dessa remoção, consulte Protocolos TLS Descontinuados. </p><p> O suporte para as versões 1.0 e 1.1 do TLS foi removido porque essas versões de protocolo são antigas, lançadas em 1996 e 2006, respectivamente. Os algoritmos utilizados são fracos e desatualizados. </p><p> A menos que você esteja usando versões muito antigas do MySQL Server ou de connectors, é improvável que você tenha conexões usando TLS 1.0 ou 1.1. Por padrão, os connectors e clients do MySQL selecionam a versão mais alta de TLS disponível. </p><p> <span><em>Quando o suporte a TLS 1.2 foi adicionado ao MySQL Server?</em></span> O MySQL Community Server adicionou suporte a TLS 1.2 quando o server comunitário mudou para OpenSSL para MySQL 5.6, 5.7 e 8.0 em 2019. Para o MySQL Enterprise Edition, o OpenSSL adicionou suporte a TLS 1.2 em 2015, no MySQL Server 5.7.10. </p><p> <span><em>Como é possível visualizar quais versões de TLS estão em uso ativo?</em></span> Para MySQL 5.7 ou 8.0, verifique se TLS 1.0 ou 1.1 está em uso executando esta Query: </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">SELECT `session_ssl_status`.`thread_id`, `session_ssl_status`.`ssl_version`, `session_ssl_status`.`ssl_cipher`, `session_ssl_status`.`ssl_sessions_reused` FROM `sys`.`session_ssl_status` WHERE ssl_version NOT IN ('TLSv1.3','TLSv1.2');</code></pre><p> Se um Thread usando TLSv1.0 ou TLSv1.1 estiver listado, você pode determinar de onde essa conexão está vindo executando esta Query: </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">SELECT thd_id,conn_id, user, db, current_statement, program_name FROM sys.processlist WHERE thd_id IN ( SELECT `session_ssl_status`.`thread_id` FROM `sys`.`session_ssl_status` WHERE ssl_version NOT IN ('TLSv1.3','TLSv1.2') );</code></pre><p> Alternativamente, você pode executar esta Query: </p><pre class="programlisting copytoclipboard language-sql"><code class="language-sql">SELECT * FROM sys.session WHERE thd_id IN ( SELECT `session_ssl_status`.`thread_id` FROM `sys`.`session_ssl_status` WHERE ssl_version NOT IN ('TLSv1.3','TLSv1.2') );</code></pre><p> Essas Queries fornecem os detalhes necessários para determinar qual aplicação não está suportando TLS 1.2 ou 1.3, e para direcionar os upgrades para elas. </p><p> <span><em>Existem outras opções para testar TLS 1.0 ou 1.1?</em></span> Sim, você pode desativar essas versões antes de fazer o upgrade do seu server para uma versão mais recente. Especifique explicitamente qual versão usar, seja em <code>mysql.cnf</code> (ou <code>mysql.ini</code>) ou usando <code>SET PERSIST</code>, por exemplo: <code>--tls-version=TLSv12</code>. </p><p> <span><em>Todos os MySQL Connectors (5.7 e 8.0) suportam TLS 1.2 e superior? E as aplicações C e C++ usando <code>libmysql</code>?</em></span> Para aplicações C e C++ usando a biblioteca comunitária <code>libmysqlclient</code>, use uma biblioteca baseada em OpenSSL (ou seja, *não* use YaSSL). O uso do OpenSSL foi unificado em 2018 (no MySQL 8.0.4 e 5.7.28, respectivamente). O mesmo se aplica ao Connector/ODBC e Connector/C++. Para determinar quais dependências de biblioteca são usadas, execute os seguintes comandos para ver se o OpenSSL está listado. No Linux, use este comando: </p><pre class="programlisting copytoclipboard language-terminal one-line"><code class="language-terminal">$&gt; sudo ldd usr/local/mysql/lib/libmysqlclient.a | grep -i openssl</code></pre><p> No MacOS, use este comando: </p><pre class="programlisting copytoclipboard language-terminal one-line"><code class="language-terminal">$&gt; sudo otool -l /usr/local/mysql/lib/libmysqlclient.a | grep -i openssl</code></pre><p> Verifique a documentação para cada connector, mas eles suportam TLS 1.2 e TLS 1.3. </p></td></tr></tbody></table>
