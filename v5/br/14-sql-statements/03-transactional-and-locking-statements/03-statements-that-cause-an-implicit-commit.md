### 13.3.3 Statements que Causam um Commit Implícito

As *statements* listadas nesta seção (e quaisquer sinônimos para elas) encerram implicitamente qualquer *transaction* ativa na sessão atual, como se você tivesse executado um [`COMMIT`](commit.html "13.3.1 START TRANSACTION, COMMIT, and ROLLBACK Statements") antes de executar a *statement*.

A maioria dessas *statements* também causa um *commit* implícito após a execução. A intenção é tratar cada uma dessas *statements* em sua própria *transaction* especial porque ela não pode ser revertida (*rolled back*) de qualquer maneira. *Statements* de controle de *transaction* e *locking* são exceções: se um *commit* implícito ocorrer antes da execução, outro não ocorrerá depois.

* **Statements de Data Definition Language (DDL) que definem ou modificam objetos do Database.** [`ALTER DATABASE ... UPGRADE DATA DIRECTORY NAME`](alter-database.html "13.1.1 ALTER DATABASE Statement"), [`ALTER EVENT`](alter-event.html "13.1.2 ALTER EVENT Statement"), [`ALTER PROCEDURE`](alter-procedure.html "13.1.6 ALTER PROCEDURE Statement"), [`ALTER SERVER`](alter-server.html "13.1.7 ALTER SERVER Statement"), [`ALTER TABLE`](alter-table.html "13.1.8 ALTER TABLE Statement"), [`ALTER TABLESPACE`](alter-tablespace.html "13.1.9 ALTER TABLESPACE Statement"), [`ALTER VIEW`](alter-view.html "13.1.10 ALTER VIEW Statement"), [`CREATE DATABASE`](create-database.html "13.1.11 CREATE DATABASE Statement"), [`CREATE EVENT`](create-event.html "13.1.12 CREATE EVENT Statement"), [`CREATE INDEX`](create-index.html "13.1.14 CREATE INDEX Statement"), [`CREATE PROCEDURE`](create-procedure.html "13.1.16 CREATE PROCEDURE and CREATE FUNCTION Statements"), [`CREATE SERVER`](create-server.html "13.1.17 CREATE SERVER Statement"), [`CREATE TABLE`](create-table.html "13.1.18 CREATE TABLE Statement"), [`CREATE TABLESPACE`](create-tablespace.html "13.1.19 CREATE TABLESPACE Statement"), [`CREATE TRIGGER`](create-trigger.html "13.1.20 CREATE TRIGGER Statement"), [`CREATE VIEW`](create-view.html "13.1.21 CREATE VIEW Statement"), [`DROP DATABASE`](drop-database.html "13.1.22 DROP DATABASE Statement"), [`DROP EVENT`](drop-event.html "13.1.23 DROP EVENT Statement"), [`DROP INDEX`](drop-index.html "13.1.25 DROP INDEX Statement"), [`DROP PROCEDURE`](drop-procedure.html "13.1.27 DROP PROCEDURE and DROP FUNCTION Statements"), [`DROP SERVER`](drop-server.html "13.1.28 DROP SERVER Statement"), [`DROP TABLE`](drop-table.html "13.1.29 DROP TABLE Statement"), [`DROP TABLESPACE`](drop-tablespace.html "13.1.30 DROP TABLESPACE Statement"), [`DROP TRIGGER`](drop-trigger.html "13.1.31 DROP TRIGGER Statement"), [`DROP VIEW`](drop-view.html "13.1.32 DROP VIEW Statement"), [`INSTALL PLUGIN`](install-plugin.html "13.7.3.3 INSTALL PLUGIN Statement"), [`RENAME TABLE`](rename-table.html "13.1.33 RENAME TABLE Statement"), [`TRUNCATE TABLE`](truncate-table.html "13.1.34 TRUNCATE TABLE Statement"), [`UNINSTALL PLUGIN`](uninstall-plugin.html "13.7.3.4 UNINSTALL PLUGIN Statement").

  [`ALTER FUNCTION`](alter-function.html "13.1.3 ALTER FUNCTION Statement"), [`CREATE FUNCTION`](create-function.html "13.1.13 CREATE FUNCTION Statement") e [`DROP FUNCTION`](drop-function.html "13.1.24 DROP FUNCTION Statement") também causam um *commit* implícito quando usadas com *stored functions*, mas não com *loadable functions*. ([`ALTER FUNCTION`](alter-function.html "13.1.3 ALTER FUNCTION Statement") só pode ser usada com *stored functions*.)

  As *statements* [`CREATE TABLE`](create-table.html "13.1.18 CREATE TABLE Statement") e [`DROP TABLE`](drop-table.html "13.1.29 DROP TABLE Statement") não fazem *commit* de uma *transaction* se a palavra-chave `TEMPORARY` for usada. (Isso não se aplica a outras operações em *temporary tables*, como [`ALTER TABLE`](alter-table.html "13.1.8 ALTER TABLE Statement") e [`CREATE INDEX`](create-index.html "13.1.14 CREATE INDEX Statement"), que causam um *commit*.) No entanto, embora nenhum *commit* implícito ocorra, a *statement* também não pode ser revertida (*rolled back*), o que significa que o uso de tais *statements* causa violação da atomicidade *transactional*. Por exemplo, se você usar [`CREATE TEMPORARY TABLE`](create-table.html "13.1.18 CREATE TABLE Statement") e depois fizer *roll back* da *transaction*, a *table* permanece em existência.

  A *statement* [`CREATE TABLE`](create-table.html "13.1.18 CREATE TABLE Statement") no `InnoDB` é processada como uma única *transaction*. Isso significa que um [`ROLLBACK`](commit.html "13.3.1 START TRANSACTION, COMMIT, and ROLLBACK Statements") por parte do usuário não desfaz *statements* [`CREATE TABLE`](create-table.html "13.1.18 CREATE TABLE Statement") que o usuário executou durante aquela *transaction*.

  [`CREATE TABLE ... SELECT`](create-table.html "13.1.18 CREATE TABLE Statement") causa um *commit* implícito antes e depois que a *statement* é executada quando você está criando *tables* não-temporárias. (Nenhum *commit* ocorre para `CREATE TEMPORARY TABLE ... SELECT`.)

* **Statements que implicitamente usam ou modificam tables no database `mysql`.** [`ALTER USER`](alter-user.html "13.7.1.1 ALTER USER Statement"), [`CREATE USER`](create-user.html "13.7.1.2 CREATE USER Statement"), [`DROP USER`](drop-user.html "13.7.1.3 DROP USER Statement"), [`GRANT`](grant.html "13.7.1.4 GRANT Statement"), [`RENAME USER`](rename-user.html "13.7.1.5 RENAME USER Statement"), [`REVOKE`](revoke.html "13.7.1.6 REVOKE Statement"), [`SET PASSWORD`](set-password.html "13.7.1.7 SET PASSWORD Statement").

* **Statements de controle de Transaction e locking.** [`BEGIN`](commit.html "13.3.1 START TRANSACTION, COMMIT, and ROLLBACK Statements"), [`LOCK TABLES`](lock-tables.html "13.3.5 LOCK TABLES and UNLOCK TABLES Statements"), `SET autocommit = 1` (se o valor já não for 1), [`START TRANSACTION`](commit.html "13.3.1 START TRANSACTION, COMMIT, and ROLLBACK Statements"), [`UNLOCK TABLES`](lock-tables.html "13.3.5 LOCK TABLES and UNLOCK TABLES Statements").

  [`UNLOCK TABLES`](lock-tables.html "13.3.5 LOCK TABLES and UNLOCK TABLES Statements") faz *commit* de uma *transaction* apenas se alguma *table* estiver atualmente bloqueada com [`LOCK TABLES`](lock-tables.html "13.3.5 LOCK TABLES and UNLOCK TABLES Statements") para adquirir *table locks* não *transactional*. Um *commit* não ocorre para [`UNLOCK TABLES`](lock-tables.html "13.3.5 LOCK TABLES and UNLOCK TABLES Statements") após [`FLUSH TABLES WITH READ LOCK`](flush.html#flush-tables-with-read-lock) porque esta última *statement* não adquire *locks* em nível de *table*.

  *Transactions* não podem ser aninhadas. Esta é uma consequência do *commit* implícito realizado para qualquer *transaction* atual quando você emite uma *statement* [`START TRANSACTION`](commit.html "13.3.1 START TRANSACTION, COMMIT, and ROLLBACK Statements") ou um de seus sinônimos.

  *Statements* que causam um *commit* implícito não podem ser usadas em uma *XA transaction* enquanto a *transaction* estiver no estado `ACTIVE`.

  A *statement* [`BEGIN`](commit.html "13.3.1 START TRANSACTION, COMMIT, and ROLLBACK Statements") difere do uso da palavra-chave `BEGIN` que inicia um *compound statement* [`BEGIN ... END`](begin-end.html "13.6.1 BEGIN ... END Compound Statement"). Este último não causa um *commit* implícito. Consulte [Section 13.6.1, “BEGIN ... END Compound Statement”](begin-end.html "13.6.1 BEGIN ... END Compound Statement").

* **Statements de carregamento de Dados.** [`LOAD DATA`](load-data.html "13.2.6 LOAD DATA Statement"). [`LOAD DATA`](load-data.html "13.2.6 LOAD DATA Statement") causa um *commit* implícito apenas para *tables* que usam o *storage engine* [`NDB`](mysql-cluster.html "Chapter 21 MySQL NDB Cluster 7.5 and NDB Cluster 7.6").

* **Statements Administrativas.** [`ANALYZE TABLE`](analyze-table.html "13.7.2.1 ANALYZE TABLE Statement"), [`CACHE INDEX`](cache-index.html "13.7.6.2 CACHE INDEX Statement"), [`CHECK TABLE`](check-table.html "13.7.2.2 CHECK TABLE Statement"), [`FLUSH`](flush.html "13.7.6.3 FLUSH Statement"), [`LOAD INDEX INTO CACHE`](load-index.html "13.7.6.5 LOAD INDEX INTO CACHE Statement"), [`OPTIMIZE TABLE`](optimize-table.html "13.7.2.4 OPTIMIZE TABLE Statement"), [`REPAIR TABLE`](repair-table.html "13.7.2.5 REPAIR TABLE Statement"), [`RESET`](reset.html "13.7.6.6 RESET Statement").

* **Statements de controle de Replication**. [`START SLAVE`](start-slave.html "13.4.2.5 START SLAVE Statement"), [`STOP SLAVE`](stop-slave.html "13.4.2.6 STOP SLAVE Statement"), [`RESET SLAVE`](reset-slave.html "13.4.2.3 RESET SLAVE Statement"), [`CHANGE MASTER TO`](change-master-to.html "13.4.2.1 CHANGE MASTER TO Statement").