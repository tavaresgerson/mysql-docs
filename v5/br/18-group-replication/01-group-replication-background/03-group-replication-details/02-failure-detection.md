#### 17.1.3.2 Detecção de Falhas

O mecanismo de detecção de falhas do Group Replication é um serviço distribuído capaz de identificar que um *server* no grupo não está se comunicando com os outros e, portanto, é suspeito de estar fora de serviço. Se o *consensus* do grupo for de que a suspeita é provavelmente verdadeira, o grupo toma uma decisão coordenada para expulsar o membro. Expulsar um membro que não está se comunicando é necessário porque o grupo precisa de uma maioria de seus membros para concordar em uma *transaction* ou alteração de *view*. Se um membro não estiver participando dessas decisões, o grupo deve removê-lo para aumentar a chance de que o grupo contenha uma maioria de membros funcionando corretamente e, assim, possa continuar a processar *transactions*.

Em um grupo de replication, cada membro possui um canal de comunicação ponto a ponto com cada outro membro, criando um grafo totalmente conectado. Essas conexões são gerenciadas pelo mecanismo de comunicação de grupo (XCom, uma variante do Paxos) e utilizam *sockets* TCP/IP. Um canal é usado para enviar mensagens ao membro e o outro canal é usado para receber mensagens do membro. Se um membro não receber mensagens de outro membro por 5 segundos, ele suspeita que o membro falhou e lista o *status* desse membro como `UNREACHABLE` em sua própria tabela do Performance Schema [`replication_group_members`](performance-schema-replication-group-members-table.html "25.12.11.8 The replication_group_members Table"). Geralmente, dois membros suspeitam um do outro de ter falhado porque ambos não estão se comunicando mutuamente. É possível, embora menos provável, que o membro A suspeite que o membro B falhou, mas o membro B não suspeite que o membro A falhou — talvez devido a um problema de *routing* ou *firewall*. Um membro também pode criar uma suspeita de si mesmo. Um membro isolado do restante do grupo suspeita que todos os outros falharam.

Se uma suspeita durar mais de 10 segundos, o membro que suspeita tenta propagar sua *view* de que o membro suspeito está com falha para os outros membros do grupo. Um membro suspeitante só faz isso se for um *notifier*, conforme calculado a partir do seu número interno de *node* XCom. Se um membro estiver realmente isolado do restante do grupo, ele pode tentar propagar sua *view*, mas isso não terá consequências, pois ele não pode garantir um *quorum* dos outros membros para concordar. Uma suspeita só tem consequências se um membro for um *notifier*, e sua suspeita durar tempo suficiente para ser propagada aos outros membros do grupo, e os outros membros concordarem com ela. Nesse caso, o membro suspeito é marcado para expulsão do grupo em uma decisão coordenada e é expulso após o mecanismo de expulsão detectar e implementar a expulsão.

Para obter informações sobre as variáveis de sistema do Group Replication que você pode configurar para especificar as respostas dos membros do grupo em funcionamento a situações de falha e as ações tomadas pelos membros do grupo suspeitos de terem falhado, consulte [Respostas à Detecção de Falhas e Particionamento de Rede](/doc/refman/8.0/en/group-replication-responses-failure.html).