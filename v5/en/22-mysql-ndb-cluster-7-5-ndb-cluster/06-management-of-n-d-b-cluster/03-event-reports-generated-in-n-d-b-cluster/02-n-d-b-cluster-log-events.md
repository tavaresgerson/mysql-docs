#### 21.6.3.2 NDB Cluster Log Events

An event report reported in the event logs has the following format:

```sql
datetime [string] severity -- message
```

For example:

```sql
09:19:30 2005-07-24 [NDB] INFO -- Node 4 Start phase 4 completed
```

This section discusses all reportable events, ordered by category and severity level within each category.

In the event descriptions, GCP and LCP mean “Global Checkpoint” and “Local Checkpoint”, respectively.

##### CONNECTION Events

These events are associated with connections between Cluster nodes.

**Table 21.50 Events associated with connections between cluster nodes**

<table><col style="width: 35%"/><col style="width: 10%"/><col style="width: 10%"/><col style="width: 45%"/><thead><tr> <th scope="col">Event</th> <th scope="col">Priority</th> <th scope="col">Severity Level</th> <th scope="col">Description</th> </tr></thead><tbody><tr> <th scope="row"><code class="literal">Connected</code></th> <td>8</td> <td><code class="literal">INFO</code></td> <td>Data nodes connected</td> </tr><tr> <th scope="row"><code class="literal">Disconnected</code></th> <td>8</td> <td><code class="literal">ALERT</code></td> <td>Data nodes disconnected</td> </tr><tr> <th scope="row"><code class="literal">CommunicationClosed</code></th> <td>8</td> <td><code class="literal">INFO</code></td> <td>SQL node or data node connection closed</td> </tr><tr> <th scope="row"><code class="literal">CommunicationOpened</code></th> <td>8</td> <td><code class="literal">INFO</code></td> <td>SQL node or data node connection open</td> </tr><tr> <th scope="row"><code class="literal">ConnectedApiVersion</code></th> <td>8</td> <td><code class="literal">INFO</code></td> <td>Connection using API version</td> </tr></tbody></table>

##### CHECKPOINT Events

The logging messages shown here are associated with checkpoints.

**Table 21.51 Events associated with checkpoints**

<table><col style="width: 35%"/><col style="width: 10%"/><col style="width: 10%"/><col style="width: 45%"/><thead><tr> <th scope="col">Event</th> <th scope="col">Priority</th> <th scope="col">Severity Level</th> <th scope="col">Description</th> </tr></thead><tbody><tr> <th scope="row"><code class="literal">GlobalCheckpointStarted</code></th> <td>9</td> <td><code class="literal">INFO</code></td> <td>Start of GCP: REDO log is written to disk</td> </tr><tr> <th scope="row"><code class="literal">GlobalCheckpointCompleted</code></th> <td>10</td> <td><code class="literal">INFO</code></td> <td>GCP finished</td> </tr><tr> <th scope="row"><code class="literal">LocalCheckpointStarted</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>Start of LCP: data written to disk</td> </tr><tr> <th scope="row"><code class="literal">LocalCheckpointCompleted</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>LCP completed normally</td> </tr><tr> <th scope="row"><code class="literal">LCPStoppedInCalcKeepGci</code></th> <td>0</td> <td><code class="literal">ALERT</code></td> <td>LCP stopped</td> </tr><tr> <th scope="row"><code class="literal">LCPFragmentCompleted</code></th> <td>11</td> <td><code class="literal">INFO</code></td> <td>LCP on a fragment has been completed</td> </tr><tr> <th scope="row"><code class="literal">UndoLogBlocked</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>UNDO logging blocked; buffer near overflow</td> </tr><tr> <th scope="row"><code class="literal">RedoStatus</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>Redo status</td> </tr></tbody></table>

##### STARTUP Events

The following events are generated in response to the startup of a node or of the cluster and of its success or failure. They also provide information relating to the progress of the startup process, including information concerning logging activities.

**Table 21.52 Events relating to the startup of a node or cluster**

<table><col style="width: 35%"/><col style="width: 10%"/><col style="width: 10%"/><col style="width: 45%"/><thead><tr> <th scope="col">Event</th> <th scope="col">Priority</th> <th scope="col">Severity Level</th> <th scope="col">Description</th> </tr></thead><tbody><tr> <th scope="row"><code class="literal">NDBStartStarted</code></th> <td>1</td> <td><code class="literal">INFO</code></td> <td>Data node start phases initiated (all nodes starting)</td> </tr><tr> <th scope="row"><code class="literal">NDBStartCompleted</code></th> <td>1</td> <td><code class="literal">INFO</code></td> <td>Start phases completed, all data nodes</td> </tr><tr> <th scope="row"><code class="literal">STTORRYRecieved</code></th> <td>15</td> <td><code class="literal">INFO</code></td> <td>Blocks received after completion of restart</td> </tr><tr> <th scope="row"><code class="literal">StartPhaseCompleted</code></th> <td>4</td> <td><code class="literal">INFO</code></td> <td>Data node start phase <em class="replaceable"><code>X</code></em> completed</td> </tr><tr> <th scope="row"><code class="literal">CM_REGCONF</code></th> <td>3</td> <td><code class="literal">INFO</code></td> <td>Node has been successfully included into the cluster; shows the node, managing node, and dynamic ID</td> </tr><tr> <th scope="row"><code class="literal">CM_REGREF</code></th> <td>8</td> <td><code class="literal">INFO</code></td> <td>Node has been refused for inclusion in the cluster; cannot be included in cluster due to misconfiguration, inability to establish communication, or other problem</td> </tr><tr> <th scope="row"><code class="literal">FIND_NEIGHBOURS</code></th> <td>8</td> <td><code class="literal">INFO</code></td> <td>Shows neighboring data nodes</td> </tr><tr> <th scope="row"><code class="literal">NDBStopStarted</code></th> <td>1</td> <td><code class="literal">INFO</code></td> <td>Data node shutdown initiated</td> </tr><tr> <th scope="row"><code class="literal">NDBStopCompleted</code></th> <td>1</td> <td><code class="literal">INFO</code></td> <td>Data node shutdown complete</td> </tr><tr> <th scope="row"><code class="literal">NDBStopForced</code></th> <td>1</td> <td><code class="literal">ALERT</code></td> <td>Forced shutdown of data node</td> </tr><tr> <th scope="row"><code class="literal">NDBStopAborted</code></th> <td>1</td> <td><code class="literal">INFO</code></td> <td>Unable to shut down data node normally</td> </tr><tr> <th scope="row"><code class="literal">StartREDOLog</code></th> <td>4</td> <td><code class="literal">INFO</code></td> <td>New redo log started; GCI keep <em class="replaceable"><code>X</code></em>, newest restorable GCI <em class="replaceable"><code>Y</code></em></td> </tr><tr> <th scope="row"><code class="literal">StartLog</code></th> <td>10</td> <td><code class="literal">INFO</code></td> <td>New log started; log part <em class="replaceable"><code>X</code></em>, start MB <em class="replaceable"><code>Y</code></em>, stop MB <em class="replaceable"><code>Z</code></em></td> </tr><tr> <th scope="row"><code class="literal">UNDORecordsExecuted</code></th> <td>15</td> <td><code class="literal">INFO</code></td> <td>Undo records executed</td> </tr><tr> <th scope="row"><code class="literal">StartReport</code></th> <td>4</td> <td><code class="literal">INFO</code></td> <td>Report started</td> </tr><tr> <th scope="row"><code class="literal">LogFileInitStatus</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>Log file initialization status</td> </tr><tr> <th scope="row"><code class="literal">LogFileInitCompStatus</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>Log file completion status</td> </tr><tr> <th scope="row"><code class="literal">StartReadLCP</code></th> <td>10</td> <td><code class="literal">INFO</code></td> <td>Start read for local checkpoint</td> </tr><tr> <th scope="row"><code class="literal">ReadLCPComplete</code></th> <td>10</td> <td><code class="literal">INFO</code></td> <td>Read for local checkpoint completed</td> </tr><tr> <th scope="row"><code class="literal">RunRedo</code></th> <td>8</td> <td><code class="literal">INFO</code></td> <td>Running the redo log</td> </tr><tr> <th scope="row"><code class="literal">RebuildIndex</code></th> <td>10</td> <td><code class="literal">INFO</code></td> <td>Rebuilding indexes</td> </tr></tbody></table>

##### NODERESTART Events

The following events are generated when restarting a node and relate to the success or failure of the node restart process.

**Table 21.53 Events relating to restarting a node**

<table><col style="width: 35%"/><col style="width: 10%"/><col style="width: 10%"/><col style="width: 45%"/><thead><tr> <th scope="col">Event</th> <th scope="col">Priority</th> <th scope="col">Severity Level</th> <th scope="col">Description</th> </tr></thead><tbody><tr> <th scope="row"><code class="literal">NR_CopyDict</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>Completed copying of dictionary information</td> </tr><tr> <th scope="row"><code class="literal">NR_CopyDistr</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>Completed copying distribution information</td> </tr><tr> <th scope="row"><code class="literal">NR_CopyFragsStarted</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>Starting to copy fragments</td> </tr><tr> <th scope="row"><code class="literal">NR_CopyFragDone</code></th> <td>10</td> <td><code class="literal">INFO</code></td> <td>Completed copying a fragment</td> </tr><tr> <th scope="row"><code class="literal">NR_CopyFragsCompleted</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>Completed copying all fragments</td> </tr><tr> <th scope="row"><code class="literal">NodeFailCompleted</code></th> <td>8</td> <td><code class="literal">ALERT</code></td> <td>Node failure phase completed</td> </tr><tr> <th scope="row"><code class="literal">NODE_FAILREP</code></th> <td>8</td> <td><code class="literal">ALERT</code></td> <td>Reports that a node has failed</td> </tr><tr> <th scope="row"><code class="literal">ArbitState</code></th> <td>6</td> <td><code class="literal">INFO</code></td> <td>Report whether an arbitrator is found or not; there are seven different possible outcomes when seeking an arbitrator, listed here: <div class="itemizedlist"> <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p> Management server restarts arbitration thread [state=<em class="replaceable"><code>X</code></em>] </p></li><li class="listitem"><p> Prepare arbitrator node <em class="replaceable"><code>X</code></em> [ticket=<em class="replaceable"><code>Y</code></em>] </p></li><li class="listitem"><p> Receive arbitrator node <em class="replaceable"><code>X</code></em> [ticket=<em class="replaceable"><code>Y</code></em>] </p></li><li class="listitem"><p> Started arbitrator node <em class="replaceable"><code>X</code></em> [ticket=<em class="replaceable"><code>Y</code></em>] </p></li><li class="listitem"><p> Lost arbitrator node <em class="replaceable"><code>X</code></em> - process failure [state=<em class="replaceable"><code>Y</code></em>] </p></li><li class="listitem"><p> Lost arbitrator node <em class="replaceable"><code>X</code></em> - process exit [state=<em class="replaceable"><code>Y</code></em>] </p></li><li class="listitem"><p> Lost arbitrator node <em class="replaceable"><code>X</code></em> &lt;error msg&gt; [state=<em class="replaceable"><code>Y</code></em>] </p></li></ul> </div> </td> </tr><tr> <th scope="row"><code class="literal">ArbitResult</code></th> <td>2</td> <td><code class="literal">ALERT</code></td> <td>Report arbitrator results; there are eight different possible results for arbitration attempts, listed here: <div class="itemizedlist"> <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p> Arbitration check failed: less than 1/2 nodes left </p></li><li class="listitem"><p> Arbitration check succeeded: node group majority </p></li><li class="listitem"><p> Arbitration check failed: missing node group </p></li><li class="listitem"><p> Network partitioning: arbitration required </p></li><li class="listitem"><p> Arbitration succeeded: affirmative response from node <em class="replaceable"><code>X</code></em> </p></li><li class="listitem"><p> Arbitration failed: negative response from node <em class="replaceable"><code>X</code></em> </p></li><li class="listitem"><p> Network partitioning: no arbitrator available </p></li><li class="listitem"><p> Network partitioning: no arbitrator configured </p></li></ul> </div> </td> </tr><tr> <th scope="row"><code class="literal">GCP_TakeoverStarted</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>GCP takeover started</td> </tr><tr> <th scope="row"><code class="literal">GCP_TakeoverCompleted</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>GCP takeover complete</td> </tr><tr> <th scope="row"><code class="literal">LCP_TakeoverStarted</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>LCP takeover started</td> </tr><tr> <th scope="row"><code class="literal">LCP_TakeoverCompleted</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>LCP takeover complete (state = <em class="replaceable"><code>X</code></em>)</td> </tr><tr> <th scope="row"><code class="literal">ConnectCheckStarted</code></th> <td>6</td> <td><code class="literal">INFO</code></td> <td>Connection check started</td> </tr><tr> <th scope="row"><code class="literal">ConnectCheckCompleted</code></th> <td>6</td> <td><code class="literal">INFO</code></td> <td>Connection check completed</td> </tr><tr> <th scope="row"><code class="literal">NodeFailRejected</code></th> <td>6</td> <td><code class="literal">ALERT</code></td> <td>Node failure phase failed</td> </tr></tbody></table>

##### STATISTICS Events

The following events are of a statistical nature. They provide information such as numbers of transactions and other operations, amount of data sent or received by individual nodes, and memory usage.

**Table 21.54 Events of a statistical nature**

<table><col style="width: 35%"/><col style="width: 10%"/><col style="width: 10%"/><col style="width: 45%"/><thead><tr> <th scope="col">Event</th> <th scope="col">Priority</th> <th scope="col">Severity Level</th> <th scope="col">Description</th> </tr></thead><tbody><tr> <th scope="row"><code class="literal">TransReportCounters</code></th> <td>8</td> <td><code class="literal">INFO</code></td> <td>Report transaction statistics, including numbers of transactions, commits, reads, simple reads, writes, concurrent operations, attribute information, and aborts</td> </tr><tr> <th scope="row"><code class="literal">OperationReportCounters</code></th> <td>8</td> <td><code class="literal">INFO</code></td> <td>Number of operations</td> </tr><tr> <th scope="row"><code class="literal">TableCreated</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>Report number of tables created</td> </tr><tr> <th scope="row"><code class="literal">JobStatistic</code></th> <td>9</td> <td><code class="literal">INFO</code></td> <td>Mean internal job scheduling statistics</td> </tr><tr> <th scope="row"><code class="literal">ThreadConfigLoop</code></th> <td>9</td> <td><code class="literal">INFO</code></td> <td>Number of thread configuration loops</td> </tr><tr> <th scope="row"><code class="literal">SendBytesStatistic</code></th> <td>9</td> <td><code class="literal">INFO</code></td> <td>Mean number of bytes sent to node <em class="replaceable"><code>X</code></em></td> </tr><tr> <th scope="row"><code class="literal">ReceiveBytesStatistic</code></th> <td>9</td> <td><code class="literal">INFO</code></td> <td>Mean number of bytes received from node <em class="replaceable"><code>X</code></em></td> </tr><tr> <th scope="row"><code class="literal">MemoryUsage</code></th> <td>5</td> <td><code class="literal">INFO</code></td> <td>Data and index memory usage (80%, 90%, and 100%)</td> </tr><tr> <th scope="row"><code class="literal">MTSignalStatistics</code></th> <td>9</td> <td><code class="literal">INFO</code></td> <td>Multithreaded signals</td> </tr></tbody></table>

##### SCHEMA Events

These events relate to NDB Cluster schema operations.

**Table 21.55 Events relating to NDB Cluster schema operations**

<table><col style="width: 35%"/><col style="width: 10%"/><col style="width: 10%"/><col style="width: 45%"/><thead><tr> <th scope="col">Event</th> <th scope="col">Priority</th> <th scope="col">Severity Level</th> <th scope="col">Description</th> </tr></thead><tbody><tr> <th scope="row"><code class="literal">CreateSchemaObject</code></th> <td>8</td> <td><code class="literal">INFO</code></td> <td>Schema objected created</td> </tr><tr> <th scope="row"><code class="literal">AlterSchemaObject</code></th> <td>8</td> <td><code class="literal">INFO</code></td> <td>Schema object updated</td> </tr><tr> <th scope="row"><code class="literal">DropSchemaObject</code></th> <td>8</td> <td><code class="literal">INFO</code></td> <td>Schema object dropped</td> </tr></tbody></table>

##### ERROR Events

These events relate to Cluster errors and warnings. The presence of one or more of these generally indicates that a major malfunction or failure has occurred.

**Table 21.56 Events relating to cluster errors and warnings**

<table><col style="width: 35%"/><col style="width: 10%"/><col style="width: 10%"/><col style="width: 45%"/><thead><tr> <th scope="col">Event</th> <th scope="col">Priority</th> <th scope="col">Severity Level</th> <th scope="col">Description</th> </tr></thead><tbody><tr> <th scope="row"><code class="literal">TransporterError</code></th> <td>2</td> <td><code class="literal">ERROR</code></td> <td>Transporter error</td> </tr><tr> <th scope="row"><code class="literal">TransporterWarning</code></th> <td>8</td> <td><code class="literal">WARNING</code></td> <td>Transporter warning</td> </tr><tr> <th scope="row"><code class="literal">MissedHeartbeat</code></th> <td>8</td> <td><code class="literal">WARNING</code></td> <td>Node <em class="replaceable"><code>X</code></em> missed heartbeat number <em class="replaceable"><code>Y</code></em></td> </tr><tr> <th scope="row"><code class="literal">DeadDueToHeartbeat</code></th> <td>8</td> <td><code class="literal">ALERT</code></td> <td>Node <em class="replaceable"><code>X</code></em> declared <span class="quote">“<span class="quote">dead</span>”</span> due to missed heartbeat</td> </tr><tr> <th scope="row"><code class="literal">WarningEvent</code></th> <td>2</td> <td><code class="literal">WARNING</code></td> <td>General warning event</td> </tr><tr> <th scope="row"><code class="literal">SubscriptionStatus</code></th> <td>4</td> <td><code class="literal">WARNING</code></td> <td>Change in subscription status</td> </tr></tbody></table>

##### INFO Events

These events provide general information about the state of the cluster and activities associated with Cluster maintenance, such as logging and heartbeat transmission.

**Table 21.57 Information events**

<table><col style="width: 35%"/><col style="width: 10%"/><col style="width: 10%"/><col style="width: 45%"/><thead><tr> <th scope="col">Event</th> <th scope="col">Priority</th> <th scope="col">Severity Level</th> <th scope="col">Description</th> </tr></thead><tbody><tr> <th scope="row"><code class="literal">SentHeartbeat</code></th> <td>12</td> <td><code class="literal">INFO</code></td> <td>Sent heartbeat</td> </tr><tr> <th scope="row"><code class="literal">CreateLogBytes</code></th> <td>11</td> <td><code class="literal">INFO</code></td> <td>Create log: Log part, log file, size in MB</td> </tr><tr> <th scope="row"><code class="literal">InfoEvent</code></th> <td>2</td> <td><code class="literal">INFO</code></td> <td>General informational event</td> </tr><tr> <th scope="row"><code class="literal">EventBufferStatus</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>Event buffer status</td> </tr><tr> <th scope="row"><code class="literal">EventBufferStatus2</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>Improved event buffer status information; added in NDB 7.5.1</td> </tr></tbody></table>

Note

`SentHeartbeat` events are available only if NDB Cluster was compiled with `VM_TRACE` enabled.

##### SINGLEUSER Events

These events are associated with entering and exiting single user mode.

**Table 21.58 Events relating to single user mode**

<table><col style="width: 35%"/><col style="width: 10%"/><col style="width: 10%"/><col style="width: 45%"/><thead><tr> <th scope="col">Event</th> <th scope="col">Priority</th> <th scope="col">Severity Level</th> <th scope="col">Description</th> </tr></thead><tbody><tr> <th scope="row"><code class="literal">SingleUser</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>Entering or exiting single user mode</td> </tr></tbody></table>

##### BACKUP Events

These events provide information about backups being created or restored.

**Table 21.59 Backup events**

<table><col style="width: 35%"/><col style="width: 10%"/><col style="width: 10%"/><col style="width: 45%"/><thead><tr> <th scope="col">Event</th> <th scope="col">Priority</th> <th scope="col">Severity Level</th> <th scope="col">Description</th> </tr></thead><tbody><tr> <th scope="row"><code class="literal">BackupStarted</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>Backup started</td> </tr><tr> <th scope="row"><code class="literal">BackupStatus</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>Backup status</td> </tr><tr> <th scope="row"><code class="literal">BackupCompleted</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>Backup completed</td> </tr><tr> <th scope="row"><code class="literal">BackupFailedToStart</code></th> <td>7</td> <td><code class="literal">ALERT</code></td> <td>Backup failed to start</td> </tr><tr> <th scope="row"><code class="literal">BackupAborted</code></th> <td>7</td> <td><code class="literal">ALERT</code></td> <td>Backup aborted by user</td> </tr><tr> <th scope="row"><code class="literal">RestoreStarted</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>Started restoring from backup</td> </tr><tr> <th scope="row"><code class="literal">RestoreMetaData</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>Restoring metadata</td> </tr><tr> <th scope="row"><code class="literal">RestoreData</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>Restoring data</td> </tr><tr> <th scope="row"><code class="literal">RestoreLog</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>Restoring log files</td> </tr><tr> <th scope="row"><code class="literal">RestoreCompleted</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>Completed restoring from backup</td> </tr><tr> <th scope="row"><code class="literal">SavedEvent</code></th> <td>7</td> <td><code class="literal">INFO</code></td> <td>Event saved</td> </tr></tbody></table>
