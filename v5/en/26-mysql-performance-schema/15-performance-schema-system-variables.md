## 25.15 Performance Schema System Variables

The Performance Schema implements several system variables that provide configuration information:

```sql
mysql> SHOW VARIABLES LIKE 'perf%';
+----------------------------------------------------------+-------+
| Variable_name                                            | Value |
+----------------------------------------------------------+-------+
| performance_schema                                       | ON    |
| performance_schema_accounts_size                         | -1    |
| performance_schema_digests_size                          | 10000 |
| performance_schema_events_stages_history_long_size       | 10000 |
| performance_schema_events_stages_history_size            | 10    |
| performance_schema_events_statements_history_long_size   | 10000 |
| performance_schema_events_statements_history_size        | 10    |
| performance_schema_events_transactions_history_long_size | 10000 |
| performance_schema_events_transactions_history_size      | 10    |
| performance_schema_events_waits_history_long_size        | 10000 |
| performance_schema_events_waits_history_size             | 10    |
| performance_schema_hosts_size                            | -1    |
| performance_schema_max_cond_classes                      | 80    |
| performance_schema_max_cond_instances                    | -1    |
| performance_schema_max_digest_length                     | 1024  |
| performance_schema_max_file_classes                      | 50    |
| performance_schema_max_file_handles                      | 32768 |
| performance_schema_max_file_instances                    | -1    |
| performance_schema_max_index_stat                        | -1    |
| performance_schema_max_memory_classes                    | 320   |
| performance_schema_max_metadata_locks                    | -1    |
| performance_schema_max_mutex_classes                     | 200   |
| performance_schema_max_mutex_instances                   | -1    |
| performance_schema_max_prepared_statements_instances     | -1    |
| performance_schema_max_program_instances                 | -1    |
| performance_schema_max_rwlock_classes                    | 40    |
| performance_schema_max_rwlock_instances                  | -1    |
| performance_schema_max_socket_classes                    | 10    |
| performance_schema_max_socket_instances                  | -1    |
| performance_schema_max_sql_text_length                   | 1024  |
| performance_schema_max_stage_classes                     | 150   |
| performance_schema_max_statement_classes                 | 192   |
| performance_schema_max_statement_stack                   | 10    |
| performance_schema_max_table_handles                     | -1    |
| performance_schema_max_table_instances                   | -1    |
| performance_schema_max_table_lock_stat                   | -1    |
| performance_schema_max_thread_classes                    | 50    |
| performance_schema_max_thread_instances                  | -1    |
| performance_schema_session_connect_attrs_size            | 512   |
| performance_schema_setup_actors_size                     | -1    |
| performance_schema_setup_objects_size                    | -1    |
| performance_schema_users_size                            | -1    |
+----------------------------------------------------------+-------+
```

Performance Schema system variables can be set at server startup on the command line or in option files, and many can be set at runtime. See [Section 25.13, “Performance Schema Option and Variable Reference”](performance-schema-option-variable-reference.html "25.13 Performance Schema Option and Variable Reference").

The Performance Schema automatically sizes the values of several of its parameters at server startup if they are not set explicitly. For more information, see [Section 25.3, “Performance Schema Startup Configuration”](performance-schema-startup-configuration.html "25.3 Performance Schema Startup Configuration").

Performance Schema system variables have the following meanings:

* [`performance_schema`](performance-schema-system-variables.html#sysvar_performance_schema)

  <table frame="box" rules="all" summary="Properties for performance_schema"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema[={OFF|ON}]</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema">performance_schema</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Boolean</td> </tr><tr><th>Default Value</th> <td><code class="literal">ON</code></td> </tr></tbody></table>

  The value of this variable is `ON` or `OFF` to indicate whether the Performance Schema is enabled. By default, the value is `ON`. At server startup, you can specify this variable with no value or a value of `ON` or 1 to enable it, or with a value of `OFF` or 0 to disable it.

  Even when the Performance Schema is disabled, it continues to populate the [`global_variables`](performance-schema-system-variable-tables.html "25.12.13 Performance Schema System Variable Tables"), [`session_variables`](performance-schema-system-variable-tables.html "25.12.13 Performance Schema System Variable Tables"), [`global_status`](performance-schema-status-variable-tables.html "25.12.14 Performance Schema Status Variable Tables"), and [`session_status`](performance-schema-status-variable-tables.html "25.12.14 Performance Schema Status Variable Tables") tables. This occurs as necessary to permit the results for the [`SHOW VARIABLES`](show-variables.html "13.7.5.39 SHOW VARIABLES Statement") and [`SHOW STATUS`](show-status.html "13.7.5.35 SHOW STATUS Statement") statements to be drawn from those tables, depending on the setting of the `show_compatibiliy_56` system variable.

* [`performance_schema_accounts_size`](performance-schema-system-variables.html#sysvar_performance_schema_accounts_size)

  <table frame="box" rules="all" summary="Properties for performance_schema_accounts_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-accounts-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_accounts_size">performance_schema_accounts_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>

  The number of rows in the [`accounts`](performance-schema-accounts-table.html "25.12.8.1 The accounts Table") table. If this variable is 0, the Performance Schema does not maintain connection statistics in the [`accounts`](performance-schema-accounts-table.html "25.12.8.1 The accounts Table") table or status variable information in the [`status_by_account`](performance-schema-status-variable-summary-tables.html "25.12.15.10 Status Variable Summary Tables") table.

* [`performance_schema_digests_size`](performance-schema-system-variables.html#sysvar_performance_schema_digests_size)

  <table frame="box" rules="all" summary="Properties for performance_schema_digests_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-digests-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_digests_size">performance_schema_digests_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>

  The maximum number of rows in the [`events_statements_summary_by_digest`](performance-schema-statement-summary-tables.html "25.12.15.3 Statement Summary Tables") table. If this maximum is exceeded such that a digest cannot be instrumented, the Performance Schema increments the [`Performance_schema_digest_lost`](performance-schema-status-variables.html#statvar_Performance_schema_digest_lost) status variable.

  For more information about statement digesting, see [Section 25.10, “Performance Schema Statement Digests”](performance-schema-statement-digests.html "25.10 Performance Schema Statement Digests").

* [`performance_schema_events_stages_history_long_size`](performance-schema-system-variables.html#sysvar_performance_schema_events_stages_history_long_size)

  <table frame="box" rules="all" summary="Properties for performance_schema_events_stages_history_long_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-events-stages-history-long-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_events_stages_history_long_size">performance_schema_events_stages_history_long_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>

  The number of rows in the [`events_stages_history_long`](performance-schema-events-stages-history-long-table.html "25.12.5.3 The events_stages_history_long Table") table.

* [`performance_schema_events_stages_history_size`](performance-schema-system-variables.html#sysvar_performance_schema_events_stages_history_size)

  <table frame="box" rules="all" summary="Properties for performance_schema_events_stages_history_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-events-stages-history-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_events_stages_history_size">performance_schema_events_stages_history_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1024</code></td> </tr></tbody></table>

  The number of rows per thread in the [`events_stages_history`](performance-schema-events-stages-history-table.html "25.12.5.2 The events_stages_history Table") table.

* [`performance_schema_events_statements_history_long_size`](performance-schema-system-variables.html#sysvar_performance_schema_events_statements_history_long_size)

  <table frame="box" rules="all" summary="Properties for performance_schema_events_statements_history_long_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-events-statements-history-long-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_events_statements_history_long_size">performance_schema_events_statements_history_long_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>

  The number of rows in the [`events_statements_history_long`](performance-schema-events-statements-history-long-table.html "25.12.6.3 The events_statements_history_long Table") table.

* [`performance_schema_events_statements_history_size`](performance-schema-system-variables.html#sysvar_performance_schema_events_statements_history_size)

  <table frame="box" rules="all" summary="Properties for performance_schema_events_statements_history_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-events-statements-history-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_events_statements_history_size">performance_schema_events_statements_history_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1024</code></td> </tr></tbody></table>

  The number of rows per thread in the [`events_statements_history`](performance-schema-events-statements-history-table.html "25.12.6.2 The events_statements_history Table") table.

* [`performance_schema_events_transactions_history_long_size`](performance-schema-system-variables.html#sysvar_performance_schema_events_transactions_history_long_size)

  <table frame="box" rules="all" summary="Properties for performance_schema_events_transactions_history_long_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-events-transactions-history-long-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_events_transactions_history_long_size">performance_schema_events_transactions_history_long_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>

  The number of rows in the [`events_transactions_history_long`](performance-schema-events-transactions-history-long-table.html "25.12.7.3 The events_transactions_history_long Table") table.

* [`performance_schema_events_transactions_history_size`](performance-schema-system-variables.html#sysvar_performance_schema_events_transactions_history_size)

  <table frame="box" rules="all" summary="Properties for performance_schema_events_transactions_history_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-events-transactions-history-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_events_transactions_history_size">performance_schema_events_transactions_history_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1024</code></td> </tr></tbody></table>

  The number of rows per thread in the [`events_transactions_history`](performance-schema-events-transactions-history-table.html "25.12.7.2 The events_transactions_history Table") table.

* [`performance_schema_events_waits_history_long_size`](performance-schema-system-variables.html#sysvar_performance_schema_events_waits_history_long_size)

  <table frame="box" rules="all" summary="Properties for performance_schema_events_waits_history_long_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-events-waits-history-long-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_events_waits_history_long_size">performance_schema_events_waits_history_long_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>

  The number of rows in the [`events_waits_history_long`](performance-schema-events-waits-history-long-table.html "25.12.4.3 The events_waits_history_long Table") table.

* [`performance_schema_events_waits_history_size`](performance-schema-system-variables.html#sysvar_performance_schema_events_waits_history_size)

  <table frame="box" rules="all" summary="Properties for performance_schema_accounts_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-accounts-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_accounts_size">performance_schema_accounts_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>0

  The number of rows per thread in the [`events_waits_history`](performance-schema-events-waits-history-table.html "25.12.4.2 The events_waits_history Table") table.

* [`performance_schema_hosts_size`](performance-schema-system-variables.html#sysvar_performance_schema_hosts_size)

  <table frame="box" rules="all" summary="Properties for performance_schema_accounts_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-accounts-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_accounts_size">performance_schema_accounts_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>1

  The number of rows in the [`hosts`](performance-schema-hosts-table.html "25.12.8.2 The hosts Table") table. If this variable is 0, the Performance Schema does not maintain connection statistics in the [`hosts`](performance-schema-hosts-table.html "25.12.8.2 The hosts Table") table or status variable information in the [`status_by_host`](performance-schema-status-variable-summary-tables.html "25.12.15.10 Status Variable Summary Tables") table.

* [`performance_schema_max_cond_classes`](performance-schema-system-variables.html#sysvar_performance_schema_max_cond_classes)

  <table frame="box" rules="all" summary="Properties for performance_schema_accounts_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-accounts-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_accounts_size">performance_schema_accounts_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>2

  The maximum number of condition instruments. For information about how to set and use this variable, see [Section 25.7, “Performance Schema Status Monitoring”](performance-schema-status-monitoring.html "25.7 Performance Schema Status Monitoring").

* [`performance_schema_max_cond_instances`](performance-schema-system-variables.html#sysvar_performance_schema_max_cond_instances)

  <table frame="box" rules="all" summary="Properties for performance_schema_accounts_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-accounts-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_accounts_size">performance_schema_accounts_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>3

  The maximum number of instrumented condition objects. For information about how to set and use this variable, see [Section 25.7, “Performance Schema Status Monitoring”](performance-schema-status-monitoring.html "25.7 Performance Schema Status Monitoring").

* [`performance_schema_max_digest_length`](performance-schema-system-variables.html#sysvar_performance_schema_max_digest_length)

  <table frame="box" rules="all" summary="Properties for performance_schema_accounts_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-accounts-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_accounts_size">performance_schema_accounts_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>4

  The maximum number of bytes of memory reserved per statement for computation of normalized statement digest values in the Performance Schema. This variable is related to [`max_digest_length`](server-system-variables.html#sysvar_max_digest_length); see the description of that variable in [Section 5.1.7, “Server System Variables”](server-system-variables.html "5.1.7 Server System Variables").

  For more information about statement digesting, including considerations regarding memory use, see [Section 25.10, “Performance Schema Statement Digests”](performance-schema-statement-digests.html "25.10 Performance Schema Statement Digests").

* [`performance_schema_max_file_classes`](performance-schema-system-variables.html#sysvar_performance_schema_max_file_classes)

  <table frame="box" rules="all" summary="Properties for performance_schema_accounts_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-accounts-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_accounts_size">performance_schema_accounts_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>5

  The maximum number of file instruments. For information about how to set and use this variable, see [Section 25.7, “Performance Schema Status Monitoring”](performance-schema-status-monitoring.html "25.7 Performance Schema Status Monitoring").

* [`performance_schema_max_file_handles`](performance-schema-system-variables.html#sysvar_performance_schema_max_file_handles)

  <table frame="box" rules="all" summary="Properties for performance_schema_accounts_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-accounts-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_accounts_size">performance_schema_accounts_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>6

  The maximum number of opened file objects. For information about how to set and use this variable, see [Section 25.7, “Performance Schema Status Monitoring”](performance-schema-status-monitoring.html "25.7 Performance Schema Status Monitoring").

  The value of [`performance_schema_max_file_handles`](performance-schema-system-variables.html#sysvar_performance_schema_max_file_handles) should be greater than the value of [`open_files_limit`](server-system-variables.html#sysvar_open_files_limit): [`open_files_limit`](server-system-variables.html#sysvar_open_files_limit) affects the maximum number of open file handles the server can support and [`performance_schema_max_file_handles`](performance-schema-system-variables.html#sysvar_performance_schema_max_file_handles) affects how many of these file handles can be instrumented.

* [`performance_schema_max_file_instances`](performance-schema-system-variables.html#sysvar_performance_schema_max_file_instances)

  <table frame="box" rules="all" summary="Properties for performance_schema_accounts_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-accounts-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_accounts_size">performance_schema_accounts_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>7

  The maximum number of instrumented file objects. For information about how to set and use this variable, see [Section 25.7, “Performance Schema Status Monitoring”](performance-schema-status-monitoring.html "25.7 Performance Schema Status Monitoring").

* [`performance_schema_max_index_stat`](performance-schema-system-variables.html#sysvar_performance_schema_max_index_stat)

  <table frame="box" rules="all" summary="Properties for performance_schema_accounts_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-accounts-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_accounts_size">performance_schema_accounts_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>8

  The maximum number of indexes for which the Performance Schema maintains statistics. If this maximum is exceeded such that index statistics are lost, the Performance Schema increments the [`Performance_schema_index_stat_lost`](performance-schema-status-variables.html#statvar_Performance_schema_index_stat_lost) status variable. The default value is autosized using the value of [`performance_schema_max_table_instances`](performance-schema-system-variables.html#sysvar_performance_schema_max_table_instances).

* [`performance_schema_max_memory_classes`](performance-schema-system-variables.html#sysvar_performance_schema_max_memory_classes)

  <table frame="box" rules="all" summary="Properties for performance_schema_accounts_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-accounts-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_accounts_size">performance_schema_accounts_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>9

  The maximum number of memory instruments. For information about how to set and use this variable, see [Section 25.7, “Performance Schema Status Monitoring”](performance-schema-status-monitoring.html "25.7 Performance Schema Status Monitoring").

* [`performance_schema_max_metadata_locks`](performance-schema-system-variables.html#sysvar_performance_schema_max_metadata_locks)

  <table frame="box" rules="all" summary="Properties for performance_schema_digests_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-digests-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_digests_size">performance_schema_digests_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>0

  The maximum number of metadata lock instruments. This value controls the size of the [`metadata_locks`](performance-schema-metadata-locks-table.html "25.12.12.1 The metadata_locks Table") table. If this maximum is exceeded such that a metadata lock cannot be instrumented, the Performance Schema increments the [`Performance_schema_metadata_lock_lost`](performance-schema-status-variables.html#statvar_Performance_schema_metadata_lock_lost) status variable.

* [`performance_schema_max_mutex_classes`](performance-schema-system-variables.html#sysvar_performance_schema_max_mutex_classes)

  <table frame="box" rules="all" summary="Properties for performance_schema_digests_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-digests-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_digests_size">performance_schema_digests_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>1

  The maximum number of mutex instruments. For information about how to set and use this variable, see [Section 25.7, “Performance Schema Status Monitoring”](performance-schema-status-monitoring.html "25.7 Performance Schema Status Monitoring").

* [`performance_schema_max_mutex_instances`](performance-schema-system-variables.html#sysvar_performance_schema_max_mutex_instances)

  <table frame="box" rules="all" summary="Properties for performance_schema_digests_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-digests-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_digests_size">performance_schema_digests_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>2

  The maximum number of instrumented mutex objects. For information about how to set and use this variable, see [Section 25.7, “Performance Schema Status Monitoring”](performance-schema-status-monitoring.html "25.7 Performance Schema Status Monitoring").

* [`performance_schema_max_prepared_statements_instances`](performance-schema-system-variables.html#sysvar_performance_schema_max_prepared_statements_instances)

  <table frame="box" rules="all" summary="Properties for performance_schema_digests_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-digests-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_digests_size">performance_schema_digests_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>3

  The maximum number of rows in the [`prepared_statements_instances`](performance-schema-prepared-statements-instances-table.html "25.12.6.4 The prepared_statements_instances Table") table. If this maximum is exceeded such that a prepared statement cannot be instrumented, the Performance Schema increments the [`Performance_schema_prepared_statements_lost`](performance-schema-status-variables.html#statvar_Performance_schema_prepared_statements_lost) status variable. For information about how to set and use this variable, see [Section 25.7, “Performance Schema Status Monitoring”](performance-schema-status-monitoring.html "25.7 Performance Schema Status Monitoring").

  The default value of this variable is autosized based on the value of the [`max_prepared_stmt_count`](server-system-variables.html#sysvar_max_prepared_stmt_count) system variable.

* [`performance_schema_max_rwlock_classes`](performance-schema-system-variables.html#sysvar_performance_schema_max_rwlock_classes)

  <table frame="box" rules="all" summary="Properties for performance_schema_digests_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-digests-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_digests_size">performance_schema_digests_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>4

  The maximum number of rwlock instruments. For information about how to set and use this variable, see [Section 25.7, “Performance Schema Status Monitoring”](performance-schema-status-monitoring.html "25.7 Performance Schema Status Monitoring").

* [`performance_schema_max_program_instances`](performance-schema-system-variables.html#sysvar_performance_schema_max_program_instances)

  <table frame="box" rules="all" summary="Properties for performance_schema_digests_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-digests-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_digests_size">performance_schema_digests_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>5

  The maximum number of stored programs for which the Performance Schema maintains statistics. If this maximum is exceeded, the Performance Schema increments the [`Performance_schema_program_lost`](performance-schema-status-variables.html#statvar_Performance_schema_program_lost) status variable. For information about how to set and use this variable, see [Section 25.7, “Performance Schema Status Monitoring”](performance-schema-status-monitoring.html "25.7 Performance Schema Status Monitoring").

* [`performance_schema_max_rwlock_instances`](performance-schema-system-variables.html#sysvar_performance_schema_max_rwlock_instances)

  <table frame="box" rules="all" summary="Properties for performance_schema_digests_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-digests-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_digests_size">performance_schema_digests_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>6

  The maximum number of instrumented rwlock objects. For information about how to set and use this variable, see [Section 25.7, “Performance Schema Status Monitoring”](performance-schema-status-monitoring.html "25.7 Performance Schema Status Monitoring").

* [`performance_schema_max_socket_classes`](performance-schema-system-variables.html#sysvar_performance_schema_max_socket_classes)

  <table frame="box" rules="all" summary="Properties for performance_schema_digests_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-digests-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_digests_size">performance_schema_digests_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>7

  The maximum number of socket instruments. For information about how to set and use this variable, see [Section 25.7, “Performance Schema Status Monitoring”](performance-schema-status-monitoring.html "25.7 Performance Schema Status Monitoring").

* [`performance_schema_max_socket_instances`](performance-schema-system-variables.html#sysvar_performance_schema_max_socket_instances)

  <table frame="box" rules="all" summary="Properties for performance_schema_digests_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-digests-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_digests_size">performance_schema_digests_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>8

  The maximum number of instrumented socket objects. For information about how to set and use this variable, see [Section 25.7, “Performance Schema Status Monitoring”](performance-schema-status-monitoring.html "25.7 Performance Schema Status Monitoring").

* [`performance_schema_max_sql_text_length`](performance-schema-system-variables.html#sysvar_performance_schema_max_sql_text_length)

  <table frame="box" rules="all" summary="Properties for performance_schema_digests_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-digests-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_digests_size">performance_schema_digests_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>9

  The maximum number of bytes used to store SQL statements in the `SQL_TEXT` column of the [`events_statements_current`](performance-schema-events-statements-current-table.html "25.12.6.1 The events_statements_current Table"), [`events_statements_history`](performance-schema-events-statements-history-table.html "25.12.6.2 The events_statements_history Table"), and [`events_statements_history_long`](performance-schema-events-statements-history-long-table.html "25.12.6.3 The events_statements_history_long Table") statement event tables. Any bytes in excess of [`performance_schema_max_sql_text_length`](performance-schema-system-variables.html#sysvar_performance_schema_max_sql_text_length) are discarded and do not appear in the `SQL_TEXT` column. Statements differing only after that many initial bytes are indistinguishable in this column.

  Decreasing the [`performance_schema_max_sql_text_length`](performance-schema-system-variables.html#sysvar_performance_schema_max_sql_text_length) value reduces memory use but causes more statements to become indistinguishable if they differ only at the end. Increasing the value increases memory use but permits longer statements to be distinguished.

* [`performance_schema_max_stage_classes`](performance-schema-system-variables.html#sysvar_performance_schema_max_stage_classes)

  <table frame="box" rules="all" summary="Properties for performance_schema_events_stages_history_long_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-events-stages-history-long-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_events_stages_history_long_size">performance_schema_events_stages_history_long_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>0

  The maximum number of stage instruments. For information about how to set and use this variable, see [Section 25.7, “Performance Schema Status Monitoring”](performance-schema-status-monitoring.html "25.7 Performance Schema Status Monitoring").

* [`performance_schema_max_statement_classes`](performance-schema-system-variables.html#sysvar_performance_schema_max_statement_classes)

  <table frame="box" rules="all" summary="Properties for performance_schema_events_stages_history_long_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-events-stages-history-long-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_events_stages_history_long_size">performance_schema_events_stages_history_long_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>1

  The maximum number of statement instruments. For information about how to set and use this variable, see [Section 25.7, “Performance Schema Status Monitoring”](performance-schema-status-monitoring.html "25.7 Performance Schema Status Monitoring").

  The default value is calculated at server build time based on the number of commands in the client/server protocol and the number of SQL statement types supported by the server.

  This variable should not be changed, unless to set it to 0 to disable all statement instrumentation and save all memory associated with it. Setting the variable to nonzero values other than the default has no benefit; in particular, values larger than the default cause more memory to be allocated then is needed.

* [`performance_schema_max_statement_stack`](performance-schema-system-variables.html#sysvar_performance_schema_max_statement_stack)

  <table frame="box" rules="all" summary="Properties for performance_schema_events_stages_history_long_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-events-stages-history-long-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_events_stages_history_long_size">performance_schema_events_stages_history_long_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>2

  The maximum depth of nested stored program calls for which the Performance Schema maintains statistics. When this maximum is exceeded, the Performance Schema increments the [`Performance_schema_nested_statement_lost`](performance-schema-status-variables.html#statvar_Performance_schema_nested_statement_lost) status variable for each stored program statement executed.

* [`performance_schema_max_table_handles`](performance-schema-system-variables.html#sysvar_performance_schema_max_table_handles)

  <table frame="box" rules="all" summary="Properties for performance_schema_events_stages_history_long_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-events-stages-history-long-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_events_stages_history_long_size">performance_schema_events_stages_history_long_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>3

  The maximum number of opened table objects. This value controls the size of the [`table_handles`](performance-schema-table-handles-table.html "25.12.12.2 The table_handles Table") table. If this maximum is exceeded such that a table handle cannot be instrumented, the Performance Schema increments the [`Performance_schema_table_handles_lost`](performance-schema-status-variables.html#statvar_Performance_schema_table_handles_lost) status variable. For information about how to set and use this variable, see [Section 25.7, “Performance Schema Status Monitoring”](performance-schema-status-monitoring.html "25.7 Performance Schema Status Monitoring").

* [`performance_schema_max_table_instances`](performance-schema-system-variables.html#sysvar_performance_schema_max_table_instances)

  <table frame="box" rules="all" summary="Properties for performance_schema_events_stages_history_long_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-events-stages-history-long-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_events_stages_history_long_size">performance_schema_events_stages_history_long_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>4

  The maximum number of instrumented table objects. For information about how to set and use this variable, see [Section 25.7, “Performance Schema Status Monitoring”](performance-schema-status-monitoring.html "25.7 Performance Schema Status Monitoring").

* [`performance_schema_max_table_lock_stat`](performance-schema-system-variables.html#sysvar_performance_schema_max_table_lock_stat)

  <table frame="box" rules="all" summary="Properties for performance_schema_events_stages_history_long_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-events-stages-history-long-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_events_stages_history_long_size">performance_schema_events_stages_history_long_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>5

  The maximum number of tables for which the Performance Schema maintains lock statistics. If this maximum is exceeded such that table lock statistics are lost, the Performance Schema increments the [`Performance_schema_table_lock_stat_lost`](performance-schema-status-variables.html#statvar_Performance_schema_table_lock_stat_lost) status variable.

* [`performance_schema_max_thread_classes`](performance-schema-system-variables.html#sysvar_performance_schema_max_thread_classes)

  <table frame="box" rules="all" summary="Properties for performance_schema_events_stages_history_long_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-events-stages-history-long-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_events_stages_history_long_size">performance_schema_events_stages_history_long_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>6

  The maximum number of thread instruments. For information about how to set and use this variable, see [Section 25.7, “Performance Schema Status Monitoring”](performance-schema-status-monitoring.html "25.7 Performance Schema Status Monitoring").

* [`performance_schema_max_thread_instances`](performance-schema-system-variables.html#sysvar_performance_schema_max_thread_instances)

  <table frame="box" rules="all" summary="Properties for performance_schema_events_stages_history_long_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-events-stages-history-long-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_events_stages_history_long_size">performance_schema_events_stages_history_long_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>7

  The maximum number of instrumented thread objects. The value controls the size of the [`threads`](performance-schema-threads-table.html "25.12.16.4 The threads Table") table. If this maximum is exceeded such that a thread cannot be instrumented, the Performance Schema increments the [`Performance_schema_thread_instances_lost`](performance-schema-status-variables.html#statvar_Performance_schema_thread_instances_lost) status variable. For information about how to set and use this variable, see [Section 25.7, “Performance Schema Status Monitoring”](performance-schema-status-monitoring.html "25.7 Performance Schema Status Monitoring").

  The [`max_connections`](server-system-variables.html#sysvar_max_connections) system variable affects how many threads can run in the server. [`performance_schema_max_thread_instances`](performance-schema-system-variables.html#sysvar_performance_schema_max_thread_instances) affects how many of these running threads can be instrumented.

  The [`variables_by_thread`](performance-schema-system-variable-tables.html "25.12.13 Performance Schema System Variable Tables") and [`status_by_thread`](performance-schema-status-variable-tables.html "25.12.14 Performance Schema Status Variable Tables") tables contain system and status variable information only about foreground threads. If not all threads are instrumented by the Performance Schema, this table may miss some rows. In this case, the [`Performance_schema_thread_instances_lost`](performance-schema-status-variables.html#statvar_Performance_schema_thread_instances_lost) status variable is greater than zero.

* [`performance_schema_session_connect_attrs_size`](performance-schema-system-variables.html#sysvar_performance_schema_session_connect_attrs_size)

  <table frame="box" rules="all" summary="Properties for performance_schema_events_stages_history_long_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-events-stages-history-long-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_events_stages_history_long_size">performance_schema_events_stages_history_long_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>8

  The amount of preallocated memory per thread reserved to hold connection attribute key-value pairs. If the aggregate size of connection attribute data sent by a client is larger than this amount, the Performance Schema truncates the attribute data, increments the [`Performance_schema_session_connect_attrs_lost`](performance-schema-status-variables.html#statvar_Performance_schema_session_connect_attrs_lost) status variable, and writes a message to the error log indicating that truncation occurred if the [`log_error_verbosity`](server-system-variables.html#sysvar_log_error_verbosity) system variable value is greater than 1.

  The default value of [`performance_schema_session_connect_attrs_size`](performance-schema-system-variables.html#sysvar_performance_schema_session_connect_attrs_size) is autosized at server startup. This value may be small, so if truncation occurs ([`Performance_schema_session_connect_attrs_lost`](performance-schema-status-variables.html#statvar_Performance_schema_session_connect_attrs_lost) becomes nonzero), you may wish to set [`performance_schema_session_connect_attrs_size`](performance-schema-system-variables.html#sysvar_performance_schema_session_connect_attrs_size) explicitly to a larger value.

  Although the maximum permitted [`performance_schema_session_connect_attrs_size`](performance-schema-system-variables.html#sysvar_performance_schema_session_connect_attrs_size) value is 1MB, the effective maximum is 64KB because the server imposes a limit of 64KB on the aggregate size of connection attribute data it can accept. If a client attempts to send more than 64KB of attribute data, the server rejects the connection. For more information, see [Section 25.12.9, “Performance Schema Connection Attribute Tables”](performance-schema-connection-attribute-tables.html "25.12.9 Performance Schema Connection Attribute Tables").

* [`performance_schema_setup_actors_size`](performance-schema-system-variables.html#sysvar_performance_schema_setup_actors_size)

  <table frame="box" rules="all" summary="Properties for performance_schema_events_stages_history_long_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-events-stages-history-long-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_events_stages_history_long_size">performance_schema_events_stages_history_long_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1048576</code></td> </tr></tbody></table>9

  The number of rows in the [`setup_actors`](performance-schema-setup-actors-table.html "25.12.2.1 The setup_actors Table") table.

* [`performance_schema_setup_objects_size`](performance-schema-system-variables.html#sysvar_performance_schema_setup_objects_size)

  <table frame="box" rules="all" summary="Properties for performance_schema_events_stages_history_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-events-stages-history-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_events_stages_history_size">performance_schema_events_stages_history_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1024</code></td> </tr></tbody></table>0

  The number of rows in the [`setup_objects`](performance-schema-setup-objects-table.html "25.12.2.4 The setup_objects Table") table.

* [`performance_schema_show_processlist`](performance-schema-system-variables.html#sysvar_performance_schema_show_processlist)

  <table frame="box" rules="all" summary="Properties for performance_schema_events_stages_history_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-events-stages-history-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_events_stages_history_size">performance_schema_events_stages_history_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1024</code></td> </tr></tbody></table>1

  The [`SHOW PROCESSLIST`](show-processlist.html "13.7.5.29 SHOW PROCESSLIST Statement") statement provides process information by collecting thread data from all active threads. The [`performance_schema_show_processlist`](performance-schema-system-variables.html#sysvar_performance_schema_show_processlist) variable determines which `SHOW PROCESSLIST` implementation to use:

  + The default implementation iterates across active threads from within the thread manager while holding a global mutex. This has negative performance consequences, particularly on busy systems.

  + The alternative [`SHOW PROCESSLIST`](show-processlist.html "13.7.5.29 SHOW PROCESSLIST Statement") implementation is based on the Performance Schema [`processlist`](performance-schema-processlist-table.html "25.12.16.3 The processlist Table") table. This implementation queries active thread data from the Performance Schema rather than the thread manager and does not require a mutex.

  To enable the alternative implementation, enable the [`performance_schema_show_processlist`](performance-schema-system-variables.html#sysvar_performance_schema_show_processlist) system variable. To ensure that the default and alternative implementations yield the same information, certain configuration requirements must be met; see [Section 25.12.16.3, “The processlist Table”](performance-schema-processlist-table.html "25.12.16.3 The processlist Table").

* [`performance_schema_users_size`](performance-schema-system-variables.html#sysvar_performance_schema_users_size)

  <table frame="box" rules="all" summary="Properties for performance_schema_events_stages_history_size"><col style="width: 30%"/><col style="width: 70%"/><tbody><tr><th>Command-Line Format</th> <td><code class="literal">--performance-schema-events-stages-history-size=#</code></td> </tr><tr><th>System Variable</th> <td><code class="literal"><a class="link" href="performance-schema-system-variables.html#sysvar_performance_schema_events_stages_history_size">performance_schema_events_stages_history_size</a></code></td> </tr><tr><th>Scope</th> <td>Global</td> </tr><tr><th>Dynamic</th> <td>No</td> </tr><tr><th>Type</th> <td>Integer</td> </tr><tr><th>Default Value</th> <td><code class="literal">-1</code> (signifies autosizing; do not assign this literal value)</td> </tr><tr><th>Minimum Value</th> <td><code class="literal">-1</code> (signifies autoscaling; do not assign this literal value)</td> </tr><tr><th>Maximum Value</th> <td><code class="literal">1024</code></td> </tr></tbody></table>2

  The number of rows in the [`users`](performance-schema-users-table.html "25.12.8.3 The users Table") table. If this variable is 0, the Performance Schema does not maintain connection statistics in the [`users`](performance-schema-users-table.html "25.12.8.3 The users Table") table or status variable information in the [`status_by_user`](performance-schema-status-variable-summary-tables.html "25.12.15.10 Status Variable Summary Tables") table.
